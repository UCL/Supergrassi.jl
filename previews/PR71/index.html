<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Introduction · Supergrassi</title><meta name="title" content="Introduction · Supergrassi"/><meta property="og:title" content="Introduction · Supergrassi"/><meta property="twitter:title" content="Introduction · Supergrassi"/><meta name="description" content="Documentation for Supergrassi."/><meta property="og:description" content="Documentation for Supergrassi."/><meta property="twitter:description" content="Documentation for Supergrassi."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>Supergrassi</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Introduction</a><ul class="internal"><li><a class="tocitem" href="#Index"><span>Index</span></a></li><li><a class="tocitem" href="#Types"><span>Types</span></a></li><li><a class="tocitem" href="#Functions"><span>Functions</span></a></li><li><a class="tocitem" href="#Constants"><span>Constants</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Introduction</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Introduction</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/UCL/Supergrassi.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/UCL/Supergrassi.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Supergrassi.jl"><a class="docs-heading-anchor" href="#Supergrassi.jl">Supergrassi.jl</a><a id="Supergrassi.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Supergrassi.jl" title="Permalink"></a></h1><p>This is the reference documentation of <a href="https://github.com/UCL/Supergrassi.jl"><code>Supergrassi.jl</code></a>.</p><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#Supergrassi.FilePath"><code>Supergrassi.FilePath</code></a></li><li><a href="#Supergrassi.check_file_availability-Tuple{Dict}"><code>Supergrassi.check_file_availability</code></a></li><li><a href="#Supergrassi.classify_dict-Tuple{Dict{Any, Any}}"><code>Supergrassi.classify_dict</code></a></li><li><a href="#Supergrassi.clean_1d_values-Tuple{Vector{&lt;:Number}, Vector{&lt;:Number}, Dict{String, String}, Dict{String, String}, Vector, Vector, Float64, Bool}"><code>Supergrassi.clean_1d_values</code></a></li><li><a href="#Supergrassi.clean_2d_values-Tuple{Supergrassi.Data, Float64}"><code>Supergrassi.clean_2d_values</code></a></li><li><a href="#Supergrassi.clean_data-Tuple{Supergrassi.Data, Dict{String, Any}}"><code>Supergrassi.clean_data</code></a></li><li><a href="#Supergrassi.clean_exports-Tuple{Supergrassi.InputOutput, Supergrassi.InputOutput, Float64, Vector, Bool, Dict{String, String}, Dict{String, String}}"><code>Supergrassi.clean_exports</code></a></li><li><a href="#Supergrassi.clean_household-Tuple{Supergrassi.Data, Int64, Dict{String, String}, Dict{String, String}, Vector, Vector, Vector, Bool}"><code>Supergrassi.clean_household</code></a></li><li><a href="#Supergrassi.compute_all_parameters"><code>Supergrassi.compute_all_parameters</code></a></li><li><a href="#Supergrassi.compute_objective_function-Tuple{Vector{&lt;:Number}, Supergrassi.CleanData, Supergrassi.Parameters}"><code>Supergrassi.compute_objective_function</code></a></li><li><a href="#Supergrassi.compute_objective_function-Tuple{Vector{&lt;:Number}, Vector{&lt;:Number}, Supergrassi.CleanData, Supergrassi.Parameters}"><code>Supergrassi.compute_objective_function</code></a></li><li><a href="#Supergrassi.compute_parameter-Tuple{DataFrames.DataFrame, Supergrassi.Elasticity, DataFrames.DataFrame, Bool}"><code>Supergrassi.compute_parameter</code></a></li><li><a href="#Supergrassi.compute_production_parameter-Tuple{Supergrassi.CleanData, DataFrames.DataFrame, Bool}"><code>Supergrassi.compute_production_parameter</code></a></li><li><a href="#Supergrassi.convert_to_ratio!-Tuple{Supergrassi.RegionalData}"><code>Supergrassi.convert_to_ratio!</code></a></li><li><a href="#Supergrassi.convert_to_ratio!-Tuple{DataFrames.DataFrame}"><code>Supergrassi.convert_to_ratio!</code></a></li><li><a href="#Supergrassi.convert_to_ratio!-Tuple{Supergrassi.InputMatrices}"><code>Supergrassi.convert_to_ratio!</code></a></li><li><a href="#Supergrassi.correct_exports_with_services!-Tuple{DataFrames.DataFrame, DataFrames.DataFrame, DataFrames.DataFrame}"><code>Supergrassi.correct_exports_with_services!</code></a></li><li><a href="#Supergrassi.create_filepath-Tuple{String}"><code>Supergrassi.create_filepath</code></a></li><li><a href="#Supergrassi.create_filepath_from_template-Tuple{String, Dict{String, Any}}"><code>Supergrassi.create_filepath_from_template</code></a></li><li><a href="#Supergrassi.firms_parameters_by_region-Union{Tuple{T}, Tuple{T, Vector{T}, Vector{T}, Vector{T}, Matrix{T}, Matrix{T}, Matrix{T}}} where T&lt;:Real"><code>Supergrassi.firms_parameters_by_region</code></a></li><li><a href="#Supergrassi.log_eu_expenditure_on_uk_exports-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, Vararg{T, 6}}} where T&lt;:Real"><code>Supergrassi.log_eu_expenditure_on_uk_exports</code></a></li><li><a href="#Supergrassi.log_parameter_by_region-Union{Tuple{T}, NTuple{4, T}} where T&lt;:Real"><code>Supergrassi.log_parameter_by_region</code></a></li><li><a href="#Supergrassi.log_parameters_by_region-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>Supergrassi.log_parameters_by_region</code></a></li><li><a href="#Supergrassi.log_price_index-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>Supergrassi.log_price_index</code></a></li><li><a href="#Supergrassi.log_total_price_index-Union{Tuple{T}, Tuple{T, Vector{T}, Vector{T}}} where T&lt;:Real"><code>Supergrassi.log_total_price_index</code></a></li><li><a href="#Supergrassi.parameter_by_region-Union{Tuple{T}, NTuple{4, T}} where T&lt;:Real"><code>Supergrassi.parameter_by_region</code></a></li><li><a href="#Supergrassi.parameters_by_region-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>Supergrassi.parameters_by_region</code></a></li><li><a href="#Supergrassi.price_index-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>Supergrassi.price_index</code></a></li><li><a href="#Supergrassi.productivity_shock_mean-Union{Tuple{T}, Tuple{Supergrassi.Elasticity, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, T, T, T, T, T, T, Int64, Bool}} where T&lt;:Real"><code>Supergrassi.productivity_shock_mean</code></a></li><li><a href="#Supergrassi.read_settings-Tuple{Supergrassi.FilePath}"><code>Supergrassi.read_settings</code></a></li><li><a href="#Supergrassi.rescale_data!-Tuple{Supergrassi.CleanData}"><code>Supergrassi.rescale_data!</code></a></li><li><a href="#Supergrassi.round_shares!"><code>Supergrassi.round_shares!</code></a></li><li><a href="#Supergrassi.round_shares!"><code>Supergrassi.round_shares!</code></a></li><li><a href="#Supergrassi.round_shares!"><code>Supergrassi.round_shares!</code></a></li><li><a href="#Supergrassi.total_capital_parameters-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, T, T, T, T, T, Supergrassi.Elasticity, T, Bool}} where T"><code>Supergrassi.total_capital_parameters</code></a></li><li><a href="#Supergrassi.total_input_parameters-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, T, T, T, T, T, Supergrassi.Elasticity, T, Bool}} where T&lt;:Real"><code>Supergrassi.total_input_parameters</code></a></li><li><a href="#Supergrassi.total_labor_parameters-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, T, T, T, T, T, Supergrassi.Elasticity, T, Bool}} where T"><code>Supergrassi.total_labor_parameters</code></a></li><li><a href="#Supergrassi.total_parameters-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, T}} where T&lt;:Real"><code>Supergrassi.total_parameters</code></a></li></ul><h2 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.FilePath" href="#Supergrassi.FilePath"><code>Supergrassi.FilePath</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FilePath(path::String)</code></pre><p>A structure for file paths.</p><p><strong>Fields</strong></p><ul><li><code>path::String</code>: The full path.</li><li><code>directory::String</code>: The directory.</li><li><code>file::String</code>: The file name.</li><li><code>extension::String</code>: The file extension.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/pathvalidator.jl#L2-L12">source</a></section></article><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.check_file_availability-Tuple{Dict}" href="#Supergrassi.check_file_availability-Tuple{Dict}"><code>Supergrassi.check_file_availability</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">check_file_availability(settings::Dict)</code></pre><p>Verifies the availability of data files.</p><p><strong>Arguments</strong></p><ul><li><code>settings::Dict{&lt;:Any, &lt;:Any}</code>: The settings dictionary.</li></ul><p><strong>Returns</strong></p><ul><li><code>Dict{String, FilePath}</code>: A dictionary of file paths.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">settings = Dict(
    &quot;files&quot; =&gt; Dict(
        &quot;input_dir&quot; =&gt; &quot;data&quot;,
        &quot;input_derived_dir&quot; =&gt; &quot;derived&quot;,
        &quot;inputs&quot; =&gt; Dict(
            &quot;base&quot; =&gt; Dict(
                &quot;data&quot; =&gt; &quot;data.csv&quot;
            ),
            &quot;derived&quot; =&gt; Dict(
                &quot;scenario_independent&quot; =&gt; Dict(
                    &quot;data&quot; =&gt; &quot;data.csv&quot;
                ),
                &quot;scenario_dependent&quot; =&gt; Dict(
                    &quot;data&quot; =&gt; &quot;data.csv&quot;
                )
            )
        )
    ),
    &quot;version&quot; =&gt; &quot;v1&quot;,
    &quot;files&quot; =&gt; Dict(
        &quot;scenario&quot; =&gt; &quot;1&quot;
    )
)

filepaths = check_file_availability(settings)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/pathvalidator.jl#L94-L133">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.classify_dict-Tuple{Dict{Any, Any}}" href="#Supergrassi.classify_dict-Tuple{Dict{Any, Any}}"><code>Supergrassi.classify_dict</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">classify_dict(dict::Dict)</code></pre><p>Classifies a dictionary type based on the types of its keys and values. Used to create a typed dictionary from an untyped dictionary extracted from a YAML file.</p><p><strong>Arguments</strong></p><ul><li><code>dict::Dict{Any, Any}</code>: The dictionary to classify.</li></ul><p><strong>Returns</strong></p><ul><li><code>Dict{key_type, value_type}</code>: The classified dictionary.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">untyped_dict = YAML.load_file(&quot;settings.yaml&quot;)
typed_dict = classify_dict(dict)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/settings.jl#L3-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.clean_1d_values-Tuple{Vector{&lt;:Number}, Vector{&lt;:Number}, Dict{String, String}, Dict{String, String}, Vector, Vector, Float64, Bool}" href="#Supergrassi.clean_1d_values-Tuple{Vector{&lt;:Number}, Vector{&lt;:Number}, Dict{String, String}, Dict{String, String}, Vector, Vector, Float64, Bool}"><code>Supergrassi.clean_1d_values</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Function to process the values that are split between uk, eu, world and stored in vectors.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/cleanup.jl#L250-L252">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.clean_2d_values-Tuple{Supergrassi.Data, Float64}" href="#Supergrassi.clean_2d_values-Tuple{Supergrassi.Data, Float64}"><code>Supergrassi.clean_2d_values</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Function to process the mValues stored in input<em>output</em>matrix:es in the data struct</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/cleanup.jl#L227-L229">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.clean_data-Tuple{Supergrassi.Data, Dict{String, Any}}" href="#Supergrassi.clean_data-Tuple{Supergrassi.Data, Dict{String, Any}}"><code>Supergrassi.clean_data</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">clean_data(data::Data, settings::Dict{String, Any})</code></pre><p>Main function for data cleaning. Should take in a Data struct and return a CleanData struct.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/cleanup.jl#L637-L641">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.clean_exports-Tuple{Supergrassi.InputOutput, Supergrassi.InputOutput, Float64, Vector, Bool, Dict{String, String}, Dict{String, String}}" href="#Supergrassi.clean_exports-Tuple{Supergrassi.InputOutput, Supergrassi.InputOutput, Float64, Vector, Bool, Dict{String, String}, Dict{String, String}}"><code>Supergrassi.clean_exports</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Exports need a special treatment because they are a sum of export and services_export data frames. Service export is scaled by the sum of eu and world exports. Further refactoring definitely possible here.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/cleanup.jl#L282-L285">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.clean_household-Tuple{Supergrassi.Data, Int64, Dict{String, String}, Dict{String, String}, Vector, Vector, Vector, Bool}" href="#Supergrassi.clean_household-Tuple{Supergrassi.Data, Int64, Dict{String, String}, Dict{String, String}, Vector, Vector, Vector, Bool}"><code>Supergrassi.clean_household</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Function to process the household incomes and their derived data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/cleanup.jl#L316-L318">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.compute_all_parameters" href="#Supergrassi.compute_all_parameters"><code>Supergrassi.compute_all_parameters</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Compute all utility function parameters from regional data, elasticities and prices.   Currently missing some of the γ parameters</p><p>fun parameter should be either parameters<em>by</em>region or log<em>parameters</em>by_region</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/parameters_interface.jl#L5-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.compute_objective_function-Tuple{Vector{&lt;:Number}, Supergrassi.CleanData, Supergrassi.Parameters}" href="#Supergrassi.compute_objective_function-Tuple{Vector{&lt;:Number}, Supergrassi.CleanData, Supergrassi.Parameters}"><code>Supergrassi.compute_objective_function</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_objective_function(x::Vector{&lt;:Number}, data::CleanData, params::Parameters)</code></pre><p>Computes the objective function value based on a vector of parameters.</p><p><strong>Arguments</strong></p><ul><li><code>x::Vector{&lt;:Number}</code>: Vector containing log prices and zOC values.</li><li><code>data::CleanData</code>: Cleaned data structure containing industry and regional information.</li><li><code>params::Parameters</code>: Parameters structure containing production and constants.</li></ul><p><strong>Returns</strong></p><ul><li><code>objective_value::Float64</code>: The computed objective function value.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/objective_function.jl#L34-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.compute_objective_function-Tuple{Vector{&lt;:Number}, Vector{&lt;:Number}, Supergrassi.CleanData, Supergrassi.Parameters}" href="#Supergrassi.compute_objective_function-Tuple{Vector{&lt;:Number}, Vector{&lt;:Number}, Supergrassi.CleanData, Supergrassi.Parameters}"><code>Supergrassi.compute_objective_function</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function compute_objective_function(log_price_uk::Vector{&lt;:Number}, zOC::Vector{&lt;:Number}, data::CleanData, params::Parameters)</code></pre><p>Computes the objective function value based on the log prices and zOC values.</p><p><strong>Arguments</strong></p><ul><li><code>log_price_uk::Vector{&lt;:Number}</code>: Logarithm of UK prices.</li><li><code>zOC::Vector{&lt;:Number}</code>: Vector of zOC values.</li><li><code>data::CleanData</code>: Cleaned data structure containing industry and regional information.</li><li><code>params::Parameters</code>: Parameters structure containing production and constants.</li></ul><p><strong>Returns</strong></p><ul><li><code>objective_value::Float64</code>: The computed objective function value.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/objective_function.jl#L1-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.compute_parameter-Tuple{DataFrames.DataFrame, Supergrassi.Elasticity, DataFrames.DataFrame, Bool}" href="#Supergrassi.compute_parameter-Tuple{DataFrames.DataFrame, Supergrassi.Elasticity, DataFrames.DataFrame, Bool}"><code>Supergrassi.compute_parameter</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Compute 1d utility function parameters from a regional demand data frame and the corresponding elasticity.   Currently missing the tilde parameters for exports.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/parameters_interface.jl#L43-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.compute_production_parameter-Tuple{Supergrassi.CleanData, DataFrames.DataFrame, Bool}" href="#Supergrassi.compute_production_parameter-Tuple{Supergrassi.CleanData, DataFrames.DataFrame, Bool}"><code>Supergrassi.compute_production_parameter</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Compute the 2d utility function parameters from regional InputMatrices and the corresponding elasticity.   Currently missing the jacobian, and the 1d parameters gammaL and gammaH</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/parameters_interface.jl#L121-L124">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.convert_to_ratio!-Tuple{DataFrames.DataFrame}" href="#Supergrassi.convert_to_ratio!-Tuple{DataFrames.DataFrame}"><code>Supergrassi.convert_to_ratio!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">convert_to_ratio!(df::DataFrame)</code></pre><p>Convert regional vector data into fractions of the aggregate value. Then renormalise the aggregate value by its sum. Nans are replaced with 0&#39;s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/cleanup.jl#L451-L457">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.convert_to_ratio!-Tuple{Supergrassi.InputMatrices}" href="#Supergrassi.convert_to_ratio!-Tuple{Supergrassi.InputMatrices}"><code>Supergrassi.convert_to_ratio!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">convert_to_ratio!(data::InputMatrices)</code></pre><p>Convert regional matrix data to fractions of the aggregate value Nans are replaced with 0&#39;s</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/cleanup.jl#L469-L474">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.convert_to_ratio!-Tuple{Supergrassi.RegionalData}" href="#Supergrassi.convert_to_ratio!-Tuple{Supergrassi.RegionalData}"><code>Supergrassi.convert_to_ratio!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">convert_to_ratio!(data::RegionalData)</code></pre><p>Convert regional data into ratios of region / sum(regions)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/cleanup.jl#L412-L416">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.correct_exports_with_services!-Tuple{DataFrames.DataFrame, DataFrames.DataFrame, DataFrames.DataFrame}" href="#Supergrassi.correct_exports_with_services!-Tuple{DataFrames.DataFrame, DataFrames.DataFrame, DataFrames.DataFrame}"><code>Supergrassi.correct_exports_with_services!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Helper function for exports</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/cleanup.jl#L269-L271">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.create_filepath-Tuple{String}" href="#Supergrassi.create_filepath-Tuple{String}"><code>Supergrassi.create_filepath</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_filepath(basepath::String)</code></pre><p>Creates a file path.</p><p><strong>Arguments</strong></p><ul><li><code>file_path::FilePath</code>: The file path object.</li></ul><p><strong>Returns</strong></p><ul><li><code>Bool</code>: Whether the file path is valid.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">file_path = FilePath(&quot;data.csv&quot;)
println(is_valid) # true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/pathvalidator.jl#L71-L87">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.create_filepath_from_template-Tuple{String, Dict{String, Any}}" href="#Supergrassi.create_filepath_from_template-Tuple{String, Dict{String, Any}}"><code>Supergrassi.create_filepath_from_template</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_filepath_from_template(basepath::String, substitution_dict::Dict{String, Any})</code></pre><p>Creates a file path from a template string and a dictionary of substitutions.</p><p><strong>Arguments</strong></p><ul><li><code>basepath::String</code>: The template string.</li><li><code>substitution_dict::Dict{String, Any}</code>: The dictionary of substitutions.</li></ul><p><strong>Returns</strong></p><ul><li><code>FilePath</code>: The file path object.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">substitutions = Dict(
    &quot;name&quot; =&gt; &quot;data&quot;,
    &quot;format&quot; =&gt; &quot;csv&quot;,
    &quot;directory&quot; =&gt; &quot;dir&quot;,
    &quot;suffix&quot; =&gt; 1,
)

template = &quot;{directory}/{name}{suffix}.{format}&quot;
filepath = create_filepath_from_template(template, substitutions)
println(filepath.path) # &quot;dir/data1.csv&quot;
println(filepath.directory) # &quot;dir&quot;
println(filepath.file) # &quot;data1.csv&quot;
println(filepath.extension) # &quot;.csv&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/pathvalidator.jl#L31-L59">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.firms_parameters_by_region-Union{Tuple{T}, Tuple{T, Vector{T}, Vector{T}, Vector{T}, Matrix{T}, Matrix{T}, Matrix{T}}} where T&lt;:Real" href="#Supergrassi.firms_parameters_by_region-Union{Tuple{T}, Tuple{T, Vector{T}, Vector{T}, Vector{T}, Matrix{T}, Matrix{T}, Matrix{T}}} where T&lt;:Real"><code>Supergrassi.firms_parameters_by_region</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Compute utility function parameters (γ) by region considered in the model for the firms production function.   This is a wrapper around parameters<em>by</em>region, but here we have to consider inputs to each firm from each firm   which increases the dimension of the parameter array.</p><p>Matlab code reference ComputeTheta.m lines 257-259</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/parameters.jl#L156-L162">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.log_eu_expenditure_on_uk_exports-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, Vararg{T, 6}}} where T&lt;:Real" href="#Supergrassi.log_eu_expenditure_on_uk_exports-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, Vararg{T, 6}}} where T&lt;:Real"><code>Supergrassi.log_eu_expenditure_on_uk_exports</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Compute the share of EU expenditure on UK exports, defined in section 2.2.1 of the main paper.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/parameters.jl#L96-L98">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.log_parameter_by_region-Union{Tuple{T}, NTuple{4, T}} where T&lt;:Real" href="#Supergrassi.log_parameter_by_region-Union{Tuple{T}, NTuple{4, T}} where T&lt;:Real"><code>Supergrassi.log_parameter_by_region</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Compute log of an utility function parameter for a single region</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/parameters.jl#L10-L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.log_parameters_by_region-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real" href="#Supergrassi.log_parameters_by_region-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>Supergrassi.log_parameters_by_region</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Compute log of utility function parameters. See parameters<em>by</em>region.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/parameters.jl#L49-L51">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.log_price_index-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real" href="#Supergrassi.log_price_index-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>Supergrassi.log_price_index</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>TODO</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/parameters.jl#L126-L128">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.log_total_price_index-Union{Tuple{T}, Tuple{T, Vector{T}, Vector{T}}} where T&lt;:Real" href="#Supergrassi.log_total_price_index-Union{Tuple{T}, Tuple{T, Vector{T}, Vector{T}}} where T&lt;:Real"><code>Supergrassi.log_total_price_index</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Compute the consumer price index defined in equation 2.7 of the main paper as ar{P}.   Matlab code reference e.g. ComputeTheta.m line 58.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/parameters.jl#L143-L146">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.parameter_by_region-Union{Tuple{T}, NTuple{4, T}} where T&lt;:Real" href="#Supergrassi.parameter_by_region-Union{Tuple{T}, NTuple{4, T}} where T&lt;:Real"><code>Supergrassi.parameter_by_region</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Compute an utility function parameter for a single region</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/parameters.jl#L1-L3">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.parameters_by_region-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real" href="#Supergrassi.parameters_by_region-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>Supergrassi.parameters_by_region</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Compute utility function parameters by region considered in the model (uk, eu, rest of world).   Parameters of this type appear in multiple utility functions in the paper, and are annotated   (at least) α, β1, β2, γ and ρ.</p><p>This is refactored from the Matlab code in e.g. ComputeTheta lines 62-64</p><p><strong>Arguments</strong></p><ul><li>elasticity [ϵ, χ1, χ2, η, ξ]</li><li>log<em>price</em>{uk, eu, w} [log(p)]</li><li>quantity_{uk, eu, w} [f, x1, x2, I, m]</li></ul><p><strong>Outputs</strong></p><ul><li>weight_{uk, eu, w}</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/parameters.jl#L19-L34">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.price_index-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real" href="#Supergrassi.price_index-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>Supergrassi.price_index</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Compute the the consumer price index defined in equation 2.3 of the main paper as ar{p}.   Matlab code reference e.g. ComputeTheta.m line 49.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/parameters.jl#L110-L113">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.productivity_shock_mean-Union{Tuple{T}, Tuple{Supergrassi.Elasticity, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, T, T, T, T, T, T, Int64, Bool}} where T&lt;:Real" href="#Supergrassi.productivity_shock_mean-Union{Tuple{T}, Tuple{Supergrassi.Elasticity, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, T, T, T, T, T, T, Int64, Bool}} where T&lt;:Real"><code>Supergrassi.productivity_shock_mean</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Compute the productivity shock mean μ</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/parameters.jl#L290-L292">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.read_settings-Tuple{Supergrassi.FilePath}" href="#Supergrassi.read_settings-Tuple{Supergrassi.FilePath}"><code>Supergrassi.read_settings</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">read_settings(file_path::FilePath)</code></pre><p>Reads settings from a YAML file and classifies the dictionary.</p><p><strong>Arguments</strong></p><ul><li><code>file_path::FilePath</code>: The path to the YAML file containing settings.</li></ul><p><strong>Returns</strong></p><ul><li><code>Dict{key_type, value_type}</code>: The classified settings dictionary.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/settings.jl#L47-L57">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.rescale_data!-Tuple{Supergrassi.CleanData}" href="#Supergrassi.rescale_data!-Tuple{Supergrassi.CleanData}"><code>Supergrassi.rescale_data!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">rescale_data!(data::CleanData)</code></pre><p>Re-scale the data that does not get convereted into a ratio explicitly, following <a href="https://github.com/UCL/Supergrassi/blob/main/code/matlab/macro_v2/DataCleaning/RescaleData.m">https://github.com/UCL/Supergrassi/blob/main/code/matlab/macro_v2/DataCleaning/RescaleData.m</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/cleanup.jl#L366-L371">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.round_shares!" href="#Supergrassi.round_shares!"><code>Supergrassi.round_shares!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">round_shares!(df::DataFrame, threshold = 1e-4)</code></pre><p>Round shares in regional vector data</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/cleanup.jl#L513-L517">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.round_shares!" href="#Supergrassi.round_shares!"><code>Supergrassi.round_shares!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">round_shares!(data::RegionalData, threshold::Float64 = 1e-4)</code></pre><p>Round values below threshold in regional data to 0, then rescale so that regions sum to 1.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/cleanup.jl#L490-L494">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.round_shares!" href="#Supergrassi.round_shares!"><code>Supergrassi.round_shares!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">round_shares!(data::InputMatrices, threshold = 1e-4)</code></pre><p>Round shares in regional matrix data</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/cleanup.jl#L535-L539">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.total_capital_parameters-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, T, T, T, T, T, Supergrassi.Elasticity, T, Bool}} where T" href="#Supergrassi.total_capital_parameters-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, T, T, T, T, T, Supergrassi.Elasticity, T, Bool}} where T"><code>Supergrassi.total_capital_parameters</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Compute the total parameter (γK) for the firms capital utility function.</p><p>Matlab code reference ComputeTheta.m line 254</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/parameters.jl#L238-L242">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.total_input_parameters-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, T, T, T, T, T, Supergrassi.Elasticity, T, Bool}} where T&lt;:Real" href="#Supergrassi.total_input_parameters-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, T, T, T, T, T, Supergrassi.Elasticity, T, Bool}} where T&lt;:Real"><code>Supergrassi.total_input_parameters</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Compute the total parameter (γM) for the firms input utility function.</p><p>Matlab code reference ComputeTheta.m line 251</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/parameters.jl#L180-L184">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.total_labor_parameters-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, T, T, T, T, T, Supergrassi.Elasticity, T, Bool}} where T" href="#Supergrassi.total_labor_parameters-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, T, T, T, T, T, Supergrassi.Elasticity, T, Bool}} where T"><code>Supergrassi.total_labor_parameters</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Compute the total parameter (γH) for the firms labor utility function.</p><p>Matlab code reference ComputeTheta.m line 249</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/parameters.jl#L211-L215">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.total_parameters-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, T}} where T&lt;:Real" href="#Supergrassi.total_parameters-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, T}} where T&lt;:Real"><code>Supergrassi.total_parameters</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Compute the total utility function parameter. Parameters of this type appear in multiple utility function   in the paper, and are annotated (at least) α, β1, β2, γ and ρ.</p><p>This is refactored from the Matlab code in e.g. ComputeTheta.m line 59</p><p><strong>Arguments</strong></p><ul><li>log<em>price</em>index: price index computed by log<em>price</em>index()</li><li>quantity: total quantity [f, x1, x2, I, m]</li><li>elasticity: [ϵ, χ1, χ2, η, ξ]</li></ul><p><strong>Outputs</strong></p><ul><li>parameters</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/19f05ac0d95a2c58d028144244bd5ba14ad586c0/src/parameters.jl#L66-L79">source</a></section></article><h2 id="Constants"><a class="docs-heading-anchor" href="#Constants">Constants</a><a id="Constants-1"></a><a class="docs-heading-anchor-permalink" href="#Constants" title="Permalink"></a></h2></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.0 on <span class="colophon-date" title="Wednesday 9 July 2025 11:23">Wednesday 9 July 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
