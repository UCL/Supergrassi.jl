<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Introduction · Supergrassi</title><meta name="title" content="Introduction · Supergrassi"/><meta property="og:title" content="Introduction · Supergrassi"/><meta property="twitter:title" content="Introduction · Supergrassi"/><meta name="description" content="Documentation for Supergrassi."/><meta property="og:description" content="Documentation for Supergrassi."/><meta property="twitter:description" content="Documentation for Supergrassi."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>Supergrassi</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Introduction</a><ul class="internal"><li><a class="tocitem" href="#Index"><span>Index</span></a></li><li><a class="tocitem" href="#Types"><span>Types</span></a></li><li><a class="tocitem" href="#Functions"><span>Functions</span></a></li><li><a class="tocitem" href="#Constants"><span>Constants</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Introduction</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Introduction</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/UCL/Supergrassi.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/UCL/Supergrassi.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Supergrassi.jl"><a class="docs-heading-anchor" href="#Supergrassi.jl">Supergrassi.jl</a><a id="Supergrassi.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Supergrassi.jl" title="Permalink"></a></h1><p>This is the reference documentation of <a href="https://github.com/UCL/Supergrassi.jl"><code>Supergrassi.jl</code></a>.</p><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#Supergrassi.AssetsLiabilities"><code>Supergrassi.AssetsLiabilities</code></a></li><li><a href="#Supergrassi.CleanData"><code>Supergrassi.CleanData</code></a></li><li><a href="#Supergrassi.Constants"><code>Supergrassi.Constants</code></a></li><li><a href="#Supergrassi.Data"><code>Supergrassi.Data</code></a></li><li><a href="#Supergrassi.Elasticities"><code>Supergrassi.Elasticities</code></a></li><li><a href="#Supergrassi.Elasticity"><code>Supergrassi.Elasticity</code></a></li><li><a href="#Supergrassi.ExchangeRates"><code>Supergrassi.ExchangeRates</code></a></li><li><a href="#Supergrassi.FilePath"><code>Supergrassi.FilePath</code></a></li><li><a href="#Supergrassi.ForeignRegionalValues"><code>Supergrassi.ForeignRegionalValues</code></a></li><li><a href="#Supergrassi.HouseholdData"><code>Supergrassi.HouseholdData</code></a></li><li><a href="#Supergrassi.IndustryData"><code>Supergrassi.IndustryData</code></a></li><li><a href="#Supergrassi.InputMatrices"><code>Supergrassi.InputMatrices</code></a></li><li><a href="#Supergrassi.InputOutput"><code>Supergrassi.InputOutput</code></a></li><li><a href="#Supergrassi.ParameterConstants"><code>Supergrassi.ParameterConstants</code></a></li><li><a href="#Supergrassi.Parameters"><code>Supergrassi.Parameters</code></a></li><li><a href="#Supergrassi.ParamsProduction"><code>Supergrassi.ParamsProduction</code></a></li><li><a href="#Supergrassi.ParamsStruct"><code>Supergrassi.ParamsStruct</code></a></li><li><a href="#Supergrassi.RawHouseHoldData"><code>Supergrassi.RawHouseHoldData</code></a></li><li><a href="#Supergrassi.RawIncomeData"><code>Supergrassi.RawIncomeData</code></a></li><li><a href="#Supergrassi.RawIndustryData"><code>Supergrassi.RawIndustryData</code></a></li><li><a href="#Supergrassi.RegionalData"><code>Supergrassi.RegionalData</code></a></li><li><a href="#Supergrassi.Totals"><code>Supergrassi.Totals</code></a></li><li><a href="#Supergrassi.add_aggregate!-Tuple{DataFrames.DataFrame}"><code>Supergrassi.add_aggregate!</code></a></li><li><a href="#Supergrassi.capital_fun-Union{Tuple{T}, NTuple{5, T}} where T&lt;:Real"><code>Supergrassi.capital_fun</code></a></li><li><a href="#Supergrassi.check_file_availability-Tuple{Dict}"><code>Supergrassi.check_file_availability</code></a></li><li><a href="#Supergrassi.classify_dict-Tuple{Dict{Any, Any}}"><code>Supergrassi.classify_dict</code></a></li><li><a href="#Supergrassi.clean_1d_values-Tuple{Vector{&lt;:Number}, Vector{&lt;:Number}, Dict{String, String}, Dict{String, String}, Vector, Vector, Float64, Bool}"><code>Supergrassi.clean_1d_values</code></a></li><li><a href="#Supergrassi.clean_2d_values-Tuple{Supergrassi.Data, Float64}"><code>Supergrassi.clean_2d_values</code></a></li><li><a href="#Supergrassi.clean_assets_liabilities"><code>Supergrassi.clean_assets_liabilities</code></a></li><li><a href="#Supergrassi.clean_data-Tuple{Supergrassi.Data, Dict{String, Any}}"><code>Supergrassi.clean_data</code></a></li><li><a href="#Supergrassi.clean_exports-Tuple{Supergrassi.InputOutput, Supergrassi.InputOutput, Float64, Vector, Bool, Dict{String, String}, Dict{String, String}}"><code>Supergrassi.clean_exports</code></a></li><li><a href="#Supergrassi.clean_household-Tuple{Supergrassi.Data, Int64, Dict{String, String}, Dict{String, String}, Vector, Vector, Vector, Bool}"><code>Supergrassi.clean_household</code></a></li><li><a href="#Supergrassi.clean_matrix-Tuple{DataFrames.DataFrame, Vector{String}, Dict{String, String}}"><code>Supergrassi.clean_matrix</code></a></li><li><a href="#Supergrassi.clean_rows-Tuple{DataFrames.DataFrame, String, Vector{String}, Dict{String, String}}"><code>Supergrassi.clean_rows</code></a></li><li><a href="#Supergrassi.clean_sigma_bar-Tuple{Vector, Vector{Int64}, Vector{String}}"><code>Supergrassi.clean_sigma_bar</code></a></li><li><a href="#Supergrassi.clean_vector-Tuple{Vector{&lt;:Number}, Vector{String}, Dict{String, String}}"><code>Supergrassi.clean_vector</code></a></li><li><a href="#Supergrassi.combine_dataframe_row_wise-Tuple{DataFrames.DataFrame, Function}"><code>Supergrassi.combine_dataframe_row_wise</code></a></li><li><a href="#Supergrassi.compute_advalorem_tax-Tuple{Supergrassi.IndustryData}"><code>Supergrassi.compute_advalorem_tax</code></a></li><li><a href="#Supergrassi.compute_all_parameters"><code>Supergrassi.compute_all_parameters</code></a></li><li><a href="#Supergrassi.compute_foreign_share-Union{Tuple{T}, Tuple{Supergrassi.ParamsStruct, Supergrassi.ParamsStruct, DataFrames.DataFrame, Supergrassi.Elasticity, DataFrames.DataFrame, Vararg{T, 4}}} where T&lt;:Real"><code>Supergrassi.compute_foreign_share</code></a></li><li><a href="#Supergrassi.compute_imports_shares-Tuple{Supergrassi.Constants}"><code>Supergrassi.compute_imports_shares</code></a></li><li><a href="#Supergrassi.compute_input_by_skill-Tuple{Supergrassi.HouseholdData, Supergrassi.Elasticity}"><code>Supergrassi.compute_input_by_skill</code></a></li><li><a href="#Supergrassi.compute_objective_function-Tuple{Vector{&lt;:Number}, Supergrassi.CleanData, Supergrassi.Parameters}"><code>Supergrassi.compute_objective_function</code></a></li><li><a href="#Supergrassi.compute_objective_function-Tuple{Vector{&lt;:Number}, Vector{&lt;:Number}, Supergrassi.CleanData, Supergrassi.Parameters}"><code>Supergrassi.compute_objective_function</code></a></li><li><a href="#Supergrassi.compute_parameter-Tuple{DataFrames.DataFrame, Supergrassi.Elasticity, DataFrames.DataFrame, Bool}"><code>Supergrassi.compute_parameter</code></a></li><li><a href="#Supergrassi.compute_production_parameter-Tuple{Supergrassi.CleanData, DataFrames.DataFrame, Bool}"><code>Supergrassi.compute_production_parameter</code></a></li><li><a href="#Supergrassi.compute_wage_index-Tuple{Supergrassi.HouseholdData, Supergrassi.Elasticity}"><code>Supergrassi.compute_wage_index</code></a></li><li><a href="#Supergrassi.convert_to_ratio!-Tuple{Supergrassi.RegionalData}"><code>Supergrassi.convert_to_ratio!</code></a></li><li><a href="#Supergrassi.convert_to_ratio!-Tuple{Supergrassi.HouseholdData}"><code>Supergrassi.convert_to_ratio!</code></a></li><li><a href="#Supergrassi.convert_to_ratio!-Tuple{DataFrames.DataFrame}"><code>Supergrassi.convert_to_ratio!</code></a></li><li><a href="#Supergrassi.convert_to_ratio!-Tuple{Supergrassi.InputMatrices}"><code>Supergrassi.convert_to_ratio!</code></a></li><li><a href="#Supergrassi.correct_exports_with_services!-Tuple{DataFrames.DataFrame, DataFrames.DataFrame, DataFrames.DataFrame}"><code>Supergrassi.correct_exports_with_services!</code></a></li><li><a href="#Supergrassi.create_filepath-Tuple{String}"><code>Supergrassi.create_filepath</code></a></li><li><a href="#Supergrassi.create_filepath_from_template-Tuple{String, Dict{String, Any}}"><code>Supergrassi.create_filepath_from_template</code></a></li><li><a href="#Supergrassi.create_map_105_to_64"><code>Supergrassi.create_map_105_to_64</code></a></li><li><a href="#Supergrassi.create_map_64_to_16"><code>Supergrassi.create_map_64_to_16</code></a></li><li><a href="#Supergrassi.generate_constants-Tuple{Supergrassi.Data, Dict{String, Any}}"><code>Supergrassi.generate_constants</code></a></li><li><a href="#Supergrassi.group_columns_by_new_name-Tuple{Dict{String, String}}"><code>Supergrassi.group_columns_by_new_name</code></a></li><li><a href="#Supergrassi.group_dataframes"><code>Supergrassi.group_dataframes</code></a></li><li><a href="#Supergrassi.labor_fun-Union{Tuple{T}, Tuple{T, T, T}} where T&lt;:Real"><code>Supergrassi.labor_fun</code></a></li><li><a href="#Supergrassi.log_eu_expenditure_on_uk_exports-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, Vararg{T, 6}}} where T&lt;:Real"><code>Supergrassi.log_eu_expenditure_on_uk_exports</code></a></li><li><a href="#Supergrassi.log_parameter_by_region-Union{Tuple{T}, NTuple{4, T}} where T&lt;:Real"><code>Supergrassi.log_parameter_by_region</code></a></li><li><a href="#Supergrassi.log_parameters_by_region-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>Supergrassi.log_parameters_by_region</code></a></li><li><a href="#Supergrassi.log_price_index-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>Supergrassi.log_price_index</code></a></li><li><a href="#Supergrassi.log_total_price_index-Union{Tuple{T}, Tuple{T, Vector{T}, Vector{T}}} where T&lt;:Real"><code>Supergrassi.log_total_price_index</code></a></li><li><a href="#Supergrassi.log_weight_kernel-Union{Tuple{T}, Tuple{T, T, T}} where T&lt;:Real"><code>Supergrassi.log_weight_kernel</code></a></li><li><a href="#Supergrassi.merge_quarterly_data-Tuple{DataFrames.DataFrame, Int64, Vector, Function}"><code>Supergrassi.merge_quarterly_data</code></a></li><li><a href="#Supergrassi.parameter_by_region-Union{Tuple{T}, NTuple{4, T}} where T&lt;:Real"><code>Supergrassi.parameter_by_region</code></a></li><li><a href="#Supergrassi.parameters_by_region-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>Supergrassi.parameters_by_region</code></a></li><li><a href="#Supergrassi.parse_string_dataframe!"><code>Supergrassi.parse_string_dataframe!</code></a></li><li><a href="#Supergrassi.postprocess_clean_data!-Tuple{Supergrassi.CleanData}"><code>Supergrassi.postprocess_clean_data!</code></a></li><li><a href="#Supergrassi.price_index-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>Supergrassi.price_index</code></a></li><li><a href="#Supergrassi.productivity_shock_mean-Union{Tuple{T}, Tuple{Supergrassi.Elasticity, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, T, T, T, T, T, T, Int64, Bool}} where T&lt;:Real"><code>Supergrassi.productivity_shock_mean</code></a></li><li><a href="#Supergrassi.read_csv-Tuple{String}"><code>Supergrassi.read_csv</code></a></li><li><a href="#Supergrassi.read_excel-Tuple{String}"><code>Supergrassi.read_excel</code></a></li><li><a href="#Supergrassi.read_settings-Tuple{Supergrassi.FilePath}"><code>Supergrassi.read_settings</code></a></li><li><a href="#Supergrassi.reduce_columns_by_group_sum-Tuple{DataFrames.DataFrame, Dict{String, String}}"><code>Supergrassi.reduce_columns_by_group_sum</code></a></li><li><a href="#Supergrassi.reduce_columns_by_group_weighted_mean-Tuple{DataFrames.DataFrame, Dict{String, String}}"><code>Supergrassi.reduce_columns_by_group_weighted_mean</code></a></li><li><a href="#Supergrassi.rescale_data!-Tuple{Supergrassi.CleanData}"><code>Supergrassi.rescale_data!</code></a></li><li><a href="#Supergrassi.round_shares!"><code>Supergrassi.round_shares!</code></a></li><li><a href="#Supergrassi.round_shares!"><code>Supergrassi.round_shares!</code></a></li><li><a href="#Supergrassi.round_shares!"><code>Supergrassi.round_shares!</code></a></li><li><a href="#Supergrassi.select_year-Tuple{DataFrames.DataFrame, Int64}"><code>Supergrassi.select_year</code></a></li><li><a href="#Supergrassi.sum_kernel-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, T}} where T&lt;:Real"><code>Supergrassi.sum_kernel</code></a></li><li><a href="#Supergrassi.total_capital_parameters-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, T, T, T, T, T, Supergrassi.Elasticity, T, Bool}} where T"><code>Supergrassi.total_capital_parameters</code></a></li><li><a href="#Supergrassi.total_input_parameters-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, T, T, T, T, T, Supergrassi.Elasticity, T, Bool}} where T&lt;:Real"><code>Supergrassi.total_input_parameters</code></a></li><li><a href="#Supergrassi.total_labor_parameters-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, T, T, T, T, T, Supergrassi.Elasticity, T, Bool}} where T"><code>Supergrassi.total_labor_parameters</code></a></li><li><a href="#Supergrassi.total_parameters-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, T}} where T&lt;:Real"><code>Supergrassi.total_parameters</code></a></li><li><a href="#Supergrassi.weight_kernel-Union{Tuple{T}, Tuple{T, T, T}} where T&lt;:Real"><code>Supergrassi.weight_kernel</code></a></li></ul><h2 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.AssetsLiabilities" href="#Supergrassi.AssetsLiabilities"><code>Supergrassi.AssetsLiabilities</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct AssetsLiabilities</code></pre><p>In the matlab code these are called <code>assets0</code> and <code>assets1</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/types.jl#L117-L121">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.CleanData" href="#Supergrassi.CleanData"><code>Supergrassi.CleanData</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct CleanData</code></pre><p>Top level structure for cleaned up input data.</p><p>Contains</p><ul><li><a href="#Supergrassi.HouseholdData"><code>HouseholdData</code></a></li><li><a href="#Supergrassi.IndustryData"><code>IndustryData</code></a></li><li><a href="#Constants"><code>Constants</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/types.jl#L210-L220">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.Constants" href="#Supergrassi.Constants"><code>Supergrassi.Constants</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct Constants</code></pre><p>Stores constants read from settings file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/types.jl#L63-L67">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.Data" href="#Supergrassi.Data"><code>Supergrassi.Data</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct Data</code></pre><p>Stores all the data required for the model, including household, industry, input-output data, and other relevant information.</p><p><strong>Contains:</strong></p><ul><li><code>household</code>: An instance of <code>RawHouseHoldData</code> containing household income and hours worked data.</li><li><code>industry</code>: An instance of <code>RawIndustryData</code> containing industry capital, turnover, and inventory data.</li><li><code>input_output</code>: An instance of <code>InputOutput</code> containing input-output data and matrices.</li><li><code>imports</code>: An instance of <code>InputOutput</code> containing import data and matrices.</li><li><code>depreciation</code>: A DataFrame containing depreciation data.</li><li><code>risk_free_rate</code>: A DataFrame containing risk-free rate data.</li><li><code>assets</code>: A DataFrame containing asset data.</li><li><code>model_results</code>: A DataFrame containing model results.</li><li><code>merge_codes_105</code>: A DataFrame containing merge codes for 105 industries.</li><li><code>merge_codes_64</code>: A DataFrame containing merge codes for 64 industries.</li><li><code>others</code>: A DataFrame containing other relevant data such as taxes and subsidies.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/data.jl#L124-L142">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.Elasticities" href="#Supergrassi.Elasticities"><code>Supergrassi.Elasticities</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct Elasticities</code></pre><p>Stores sets of elasticity constants.</p><p>Names for reference in paper/matlab code:</p><ul><li><code>consumption</code>: α</li><li><code>eu_export_demand</code>: β1</li><li><code>world_export_demand</code>: β2</li><li><code>investment</code>: ρ</li><li><code>production</code>: ξ</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/types.jl#L42-L54">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.Elasticity" href="#Supergrassi.Elasticity"><code>Supergrassi.Elasticity</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct Elasticity</code></pre><p>Stores components of an elasticity constant.</p><p>Names for reference in paper/matlab code for e.g. production elasticity ξ:</p><ul><li><code>substitution::Float64</code>: ξ</li><li><code>armington::Float64</code>: ξ_a</li><li><code>substitution_uk_other::Float64</code>: ~ξ</li><li><code>skill_substitution::Float64</code>: ξ_h</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/types.jl#L23-L34">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.ExchangeRates" href="#Supergrassi.ExchangeRates"><code>Supergrassi.ExchangeRates</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct ExchangeRates</code></pre><p>Stores exchange rates from GBP to other currencies</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/types.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.FilePath" href="#Supergrassi.FilePath"><code>Supergrassi.FilePath</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FilePath(path::String)</code></pre><p>A structure for file paths.</p><p><strong>Fields</strong></p><ul><li><code>path::String</code>: The full path.</li><li><code>directory::String</code>: The directory.</li><li><code>file::String</code>: The file name.</li><li><code>extension::String</code>: The file extension.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/pathvalidator.jl#L3-L13">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.ForeignRegionalValues" href="#Supergrassi.ForeignRegionalValues"><code>Supergrassi.ForeignRegionalValues</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct ForeignRegionalValues</code></pre><p>Stores eu and rest of world components of a scalar quantity.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/types.jl#L13-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.HouseholdData" href="#Supergrassi.HouseholdData"><code>Supergrassi.HouseholdData</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct HouseholdData</code></pre><p>Stores data on households</p><p>Names reference for matlab code/paper</p><ul><li><code>income::DataFrame</code>: <code>data.income_{lo, hi}</code></li><li><code>payments::DataFrame</code>: <code>data.{hValueLO, hValueHI, hValue}</code></li><li><code>hours::DataFrame</code>: <code>data.h{LO, HI}</code></li><li><code>wages::DataFrame</code>: <code>data.w{LO, HI}</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/types.jl#L160-L172">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.IndustryData" href="#Supergrassi.IndustryData"><code>Supergrassi.IndustryData</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct IndustryData</code></pre><p>Stores data on industries</p><p>Names reference for matlab code/paper</p><ul><li><code>depreciation::DataFrame</code>: <code>data.depreciation</code></li><li><code>tax::DataFrame</code>: <code>data.taxValue{1,2}</code></li><li><code>capital::DataFrame</code>: <code>data.k{0,1}</code></li><li><code>surplus::DataFrame</code>: <code>data.kValue</code></li><li><code>shock_stdev::DataFrame</code>: <code>data.sigmaBar</code></li><li><code>assets_liabilities::AssetsLiabilities</code>: <a href="#Supergrassi.AssetsLiabilities"><code>AssetsLiabilities</code></a></li><li><code>regional::RegionalData</code>: <a href="#Supergrassi.RegionalData"><code>RegionalData</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/types.jl#L182-L197">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.InputMatrices" href="#Supergrassi.InputMatrices"><code>Supergrassi.InputMatrices</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct InputMatrices</code></pre><p>Stores intermediate input production matrices .</p><p>In the matlab code these matrices are called <code>mValue_*</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/types.jl#L101-L107">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.InputOutput" href="#Supergrassi.InputOutput"><code>Supergrassi.InputOutput</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct InputOutput</code></pre><p>Stores input-output data matrix and other related information.</p><p>Contains:</p><ul><li><code>raw_data</code>: The raw input-output data as a DataFrame.</li><li><code>input_output_matrix</code>: The input-output matrix as a DataFrame.</li><li><code>industry_names</code>: An array of industry names.</li><li><code>final_consumption</code>: An array of final consumption values.</li><li><code>gross_fixed_capital_formation</code>: An array of gross fixed capital formation values.</li><li><code>delta_v_value_uk</code>: An array of delta V values for the UK.</li><li><code>exports_eu_to_uk</code>: An array of exports from the EU to the UK.</li><li><code>export_world_to_uk</code>: An array of exports from the world to the UK.</li><li><code>total_use</code>: An array of total use values.</li><li><code>services_export</code>: An array of services export values.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/data.jl#L37-L54">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.ParameterConstants" href="#Supergrassi.ParameterConstants"><code>Supergrassi.ParameterConstants</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct ParameterConstants</code></pre><p>Stores constant values that are stored in parameters but not updated</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/types.jl#L283-L287">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.Parameters" href="#Supergrassi.Parameters"><code>Supergrassi.Parameters</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct Parameters</code></pre><p>Main structure for parameters</p><p>Contains</p><ul><li><code>constants::ParameterConstants</code> : constant values</li><li><code>consumption::ParamsStruct</code> : <code>α</code></li><li><code>export_eu::ParamsStruct</code> : <code>β1</code></li><li><code>export_world::ParamsStruct</code> : <code>β2</code></li><li><code>production::ParamsProduction</code> : <code>γ</code></li><li><code>investment::ParamsStruct</code> : <code>ρ</code></li></ul><p>Note: The constructor checks that all reasonable parameters are non-negative unless <code>log</code> or <code>derivatives</code> is set to true.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/types.jl#L296-L312">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.ParamsProduction" href="#Supergrassi.ParamsProduction"><code>Supergrassi.ParamsProduction</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct ParamsProduction</code></pre><p>Stores firms intermediate production parameters</p><p>These require a different structure from <a href="#Supergrassi.ParamsStruct">ParamsStruct</a> because firms trade with all other firms and the parameter is a matrix that contains a value for each combination of firms.</p><p>Names reference</p><ul><li><code>input_human::Vector{Float64}</code> : <code>γ_h</code></li><li><code>input_capital::Vector{Float64}</code> :  <code>γ_k</code></li><li><code>input_low_skill::Vector{Float64}</code> : <code>γ_L</code></li><li><code>input_high_skill::Vector{Float64}</code> : <code>γ_H</code></li><li><code>shock_mean::Vector{Float64}</code> : <code>μ</code></li><li><code>shock_stddev::Vector{Float64}</code> : ̄<code>σ</code></li><li><code>input_uk::Matrix{Float64}</code> : <code>γ_Md</code></li><li><code>input_eu::Matrix{Float64}</code> : <code>γ_Meu</code></li><li><code>input_world::Matrix{Float64}</code> : <code>γ_Mw</code></li><li><code>input_agg::Matrix{Float64}</code> : <code>γ_M</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/types.jl#L247-L266">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.ParamsStruct" href="#Supergrassi.ParamsStruct"><code>Supergrassi.ParamsStruct</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct ParamsStruct</code></pre><p>Stores parameters that are split between uk/eu/rest of the world.</p><p>Contains an optional field &quot;tilde&quot; which, for the export parameters β, is the share of foreign expenditure on UK exports.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/types.jl#L229-L236">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.RawHouseHoldData" href="#Supergrassi.RawHouseHoldData"><code>Supergrassi.RawHouseHoldData</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct RawHouseHoldData</code></pre><p>Stores household data (income and hours worked).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/data.jl#L15-L19">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.RawIncomeData" href="#Supergrassi.RawIncomeData"><code>Supergrassi.RawIncomeData</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct RawIncomeData</code></pre><p>Stores high and low income data as DataFrames.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/data.jl#L5-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.RawIndustryData" href="#Supergrassi.RawIndustryData"><code>Supergrassi.RawIndustryData</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct RawIndustryData</code></pre><p>Stores raw industry data (capital, turnover, and inventory) as DataFrames.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/data.jl#L25-L29">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.RegionalData" href="#Supergrassi.RegionalData"><code>Supergrassi.RegionalData</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct RegionalData</code></pre><p>Stores industries data that is split between uk/eu/rest of the world.</p><p>The data is vectors with one value per industry stored in a DataFrame. Names for reference with the matlab code/paper:</p><ul><li><code>total_use::DataFrame</code>: data.yValue / y</li><li><code>consumption::DataFrame</code>:data.fValue / f</li><li><code>delta_v::DataFrame</code>: data.deltaVValue / Δv</li><li><code>export_eu::DataFrame</code>: data.x1Value / x1</li><li><code>export_world::DataFrame</code>: data.x2Value / x2</li><li><code>investment::DataFrame</code>: data.IValue / I</li><li><code>input_matrices::InputMatrices</code>: data.mValue / m <a href="#Supergrassi.InputMatrices"><code>InputMatrices</code></a></li><li><code>totals::Totals</code>: data.{E, ISum, EX1, EX2} <a href="#Supergrassi.Totals"><code>Totals</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/types.jl#L129-L146">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.Totals" href="#Supergrassi.Totals"><code>Supergrassi.Totals</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct Totals</code></pre><p>Stores sums of quantities over industries before renormalisation.</p><p>Names for reference with the paper/matlab code:</p><ul><li><code>savings::Float64</code>: E</li><li><code>investments::Float64</code>: ISum</li><li><code>imports::ForeignRegionalValues</code>: EX1, EX2 <a href="#Supergrassi.ForeignRegionalValues"><code>ForeignRegionalValues</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/types.jl#L82-L92">source</a></section></article><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.add_aggregate!-Tuple{DataFrames.DataFrame}" href="#Supergrassi.add_aggregate!-Tuple{DataFrames.DataFrame}"><code>Supergrassi.add_aggregate!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function add_aggregate!(df::DataFrame)</code></pre><p>Add an aggregate column to a DataFrame that sums the UK, EU, and World columns.</p><p><strong>Arguments</strong></p><ul><li><code>df::DataFrame</code>: The DataFrame to which the aggregate column will be added.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L597-L604">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.capital_fun-Union{Tuple{T}, NTuple{5, T}} where T&lt;:Real" href="#Supergrassi.capital_fun-Union{Tuple{T}, NTuple{5, T}} where T&lt;:Real"><code>Supergrassi.capital_fun</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">capital_fun(surplus::T, tau::T, output::T, capital::T, elasticity::T) where {T &lt;: Real}</code></pre><p><strong>Argument:</strong></p><ul><li><code>surplus</code>: Surplus value.</li><li><code>tau</code>: Tax parameter.</li><li><code>output</code>: total household use, data.yValue.</li><li><code>capital</code>: firms capital.</li><li><code>elasticity</code>: substitution elasticity parameter.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/parameters.jl#L478-L487">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.check_file_availability-Tuple{Dict}" href="#Supergrassi.check_file_availability-Tuple{Dict}"><code>Supergrassi.check_file_availability</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">check_file_availability(settings::Dict)</code></pre><p>Verifies the availability of data files.</p><p><strong>Arguments</strong></p><ul><li><code>settings::Dict{&lt;:Any, &lt;:Any}</code>: The settings dictionary.</li></ul><p><strong>Returns</strong></p><ul><li><code>Dict{String, FilePath}</code>: A dictionary of file paths.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">settings = Dict(
    &quot;files&quot; =&gt; Dict(
        &quot;input_dir&quot; =&gt; &quot;data&quot;,
        &quot;input_derived_dir&quot; =&gt; &quot;derived&quot;,
        &quot;inputs&quot; =&gt; Dict(
            &quot;base&quot; =&gt; Dict(
                &quot;data&quot; =&gt; &quot;data.csv&quot;
            ),
            &quot;derived&quot; =&gt; Dict(
                &quot;scenario_independent&quot; =&gt; Dict(
                    &quot;data&quot; =&gt; &quot;data.csv&quot;
                ),
                &quot;scenario_dependent&quot; =&gt; Dict(
                    &quot;data&quot; =&gt; &quot;data.csv&quot;
                )
            )
        )
    ),
    &quot;version&quot; =&gt; &quot;v1&quot;,
    &quot;files&quot; =&gt; Dict(
        &quot;scenario&quot; =&gt; &quot;1&quot;
    )
)

filepaths = check_file_availability(settings)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/pathvalidator.jl#L95-L134">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.classify_dict-Tuple{Dict{Any, Any}}" href="#Supergrassi.classify_dict-Tuple{Dict{Any, Any}}"><code>Supergrassi.classify_dict</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">classify_dict(dict::Dict)</code></pre><p>Classifies a dictionary type based on the types of its keys and values. Used to create a typed dictionary from an untyped dictionary extracted from a YAML file.</p><p><strong>Arguments</strong></p><ul><li><code>dict::Dict{Any, Any}</code>: The dictionary to classify.</li></ul><p><strong>Returns</strong></p><ul><li><code>Dict{key_type, value_type}</code>: The classified dictionary.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">untyped_dict = YAML.load_file(&quot;settings.yaml&quot;)
typed_dict = classify_dict(dict)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/settings.jl#L3-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.clean_1d_values-Tuple{Vector{&lt;:Number}, Vector{&lt;:Number}, Dict{String, String}, Dict{String, String}, Vector, Vector, Float64, Bool}" href="#Supergrassi.clean_1d_values-Tuple{Vector{&lt;:Number}, Vector{&lt;:Number}, Dict{String, String}, Dict{String, String}, Vector, Vector, Float64, Bool}"><code>Supergrassi.clean_1d_values</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function clean_1d_values(val::Vector{&lt;:Number}, val_imp::Vector{&lt;:Number}, map_64::Dict{String, String}, map_16::Dict{String, String}, names_105::Vector, names_16::Vector, split_factor::Float64, industries_in_cols::Bool)</code></pre><p>Function to process the values that are split between uk, eu, world and stored in vectors.</p><p><strong>Arguments</strong></p><ul><li><code>val::Vector{&lt;:Number}</code>: The vector containing the values for UK.</li><li><code>val_imp::Vector{&lt;:Number}</code>: The vector containing the values for imports.</li><li><code>map_64::Dict{String, String}</code>: A dictionary mapping SIC 64 industry names to SIC 16 industry names.</li><li><code>map_16::Dict{String, String}</code>: A dictionary mapping SIC 16 industry names to their final names.</li><li><code>names_105::Vector</code>: A vector of industry names for SIC 105.</li><li><code>names_16::Vector</code>: A vector of industry names for SIC 16.</li><li><code>split_factor::Float64</code>: The factor by which to split the imports between EU and World.</li><li><code>industries_in_cols::Bool</code>: If true, industries will be on columns; otherwise, they will be on rows.</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: A DataFrame containing the cleaned values for UK, EU, World, and aggregate values.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L421-L438">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.clean_2d_values-Tuple{Supergrassi.Data, Float64}" href="#Supergrassi.clean_2d_values-Tuple{Supergrassi.Data, Float64}"><code>Supergrassi.clean_2d_values</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function clean_2d_values(data::Data, split_factor::Float64)</code></pre><p>Function to process the 2D values that are split between uk, eu, world and stored in matrices.</p><p><strong>Arguments</strong></p><ul><li><code>data::Data</code>: The Data struct containing input-output matrices and imports.</li><li><code>split_factor::Float64</code>: The factor by which to split the imports between EU and World.</li></ul><p><strong>Returns</strong></p><ul><li><code>InputMatrices</code>: A struct containing the cleaned input-output matrices for UK, EU, World, and aggregate values.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L389-L400">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.clean_assets_liabilities" href="#Supergrassi.clean_assets_liabilities"><code>Supergrassi.clean_assets_liabilities</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">funvtion clean_assets_liabilities(assets::DataFrame, year::Int64, map_to_16::Dict{String, String}, n_samples::Int64 = nrow(assets))</code></pre><p>Wrapper function to clean assets and liabilities data.</p><p><strong>Arguments</strong></p><ul><li><code>assets::DataFrame</code>: The DataFrame containing assets and liabilities data.</li><li><code>year::Int64</code>: The year for which the data is to be cleaned.</li><li><code>map_to_16::Dict{String, String}</code>: A dictionary mapping SIC 64 industry names to SIC 16 industry names.</li><li><code>n_samples::Int64</code>: The number of samples to limit per SIC 64 industry (default is the number of rows in <code>assets</code>.).</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: A cleaned DataFrame containing assets, liabilities, and their ratio, limited to <code>n_samples</code> per SIC 64 industry.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L319-L332">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.clean_data-Tuple{Supergrassi.Data, Dict{String, Any}}" href="#Supergrassi.clean_data-Tuple{Supergrassi.Data, Dict{String, Any}}"><code>Supergrassi.clean_data</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">clean_data(data::Data, settings::Dict{String, Any})</code></pre><p>Main function for data cleaning. Should take in a Data struct and return a CleanData struct.</p><p><strong>Arguments</strong></p><ul><li><code>data::Data</code>: The Data struct containing various economic data.</li><li><code>settings::Dict{String, Any}</code>: A dictionary containing constants and settings for the model.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L936-L944">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.clean_exports-Tuple{Supergrassi.InputOutput, Supergrassi.InputOutput, Float64, Vector, Bool, Dict{String, String}, Dict{String, String}}" href="#Supergrassi.clean_exports-Tuple{Supergrassi.InputOutput, Supergrassi.InputOutput, Float64, Vector, Bool, Dict{String, String}, Dict{String, String}}"><code>Supergrassi.clean_exports</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function clean_exports(input_output::InputOutput, imports::InputOutput, split::Float64, names_16::Vector, industries_in_cols::Bool, map_64::Dict{String, String}, map_16::Dict{String, String})</code></pre><p>Wrapper function to clean exports data.</p><p>Exports need a special treatment because they are a sum of export and services_export data frames. Service export is scaled by the sum of eu and world exports. Further refactoring definitely possible here.</p><p><strong>Arguments</strong></p><ul><li><code>input_output::InputOutput</code>: The InputOutput struct containing export data.</li><li><code>imports::InputOutput</code>: The InputOutput struct containing import data.</li><li><code>split::Float64</code>: The factor by which to split the imports between EU and World.</li><li><code>names_16::Vector</code>: A vector of industry names for SIC 16.</li><li><code>industries_in_cols::Bool</code>: If true, industries will be on columns; otherwise, they will be on rows.</li><li><code>map_64::Dict{String, String}</code>: A dictionary mapping SIC 64 industry names to SIC 16 industry names.</li><li><code>map_16::Dict{String, String}</code>: A dictionary mapping SIC 16 industry names to their final names.</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame, DataFrame</code>: Two DataFrames containing exports to the EU and World, respectively.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L475-L494">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.clean_household-Tuple{Supergrassi.Data, Int64, Dict{String, String}, Dict{String, String}, Vector, Vector, Vector, Bool}" href="#Supergrassi.clean_household-Tuple{Supergrassi.Data, Int64, Dict{String, String}, Dict{String, String}, Vector, Vector, Vector, Bool}"><code>Supergrassi.clean_household</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function clean_household(data::Data, year::Int64, map_64::Dict{String, String}, map_16::Dict{String, String}, names_105::Vector, names_64::Vector, names_16::Vector, industries_in_cols::Bool)</code></pre><p>Function to process the household incomes and their derived data.</p><p><strong>Arguments</strong></p><ul><li><code>data::Data</code>: The Data struct containing household income and hours data.</li><li><code>year::Int64</code>: The year for which the data is to be cleaned.</li><li><code>map_64::Dict{String, String}</code>: A dictionary mapping SIC 105 industry names to SIC 64 industry names.</li><li><code>map_16::Dict{String, String}</code>: A dictionary mapping SIC 64 industry names to SIC 16 industry names.</li><li><code>names_105::Vector</code>: A vector of industry names for SIC 105.</li><li><code>names_64::Vector</code>: A vector of industry names for SIC 64.</li><li><code>names_16::Vector</code>: A vector of industry names for SIC 16.</li><li><code>industries_in_cols::Bool</code>: If true, industries will be on columns; otherwise, they will be on rows.</li></ul><p><strong>Returns</strong></p><ul><li><code>HouseholdData</code>: A struct containing cleaned household income, payments, hours, and wages data.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L525-L542">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.clean_matrix-Tuple{DataFrames.DataFrame, Vector{String}, Dict{String, String}}" href="#Supergrassi.clean_matrix-Tuple{DataFrames.DataFrame, Vector{String}, Dict{String, String}}"><code>Supergrassi.clean_matrix</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function clean_matrix(data::DataFrame, industry_names::Array{String, 1}, mapping::Dict{String, String})</code></pre><p>Clean a matrix of data by reducing based on a mapping and renaming them with industry names.</p><p><strong>Arguments</strong></p><ul><li><code>data::DataFrame</code>: A DataFrame containing the matrix data to be cleaned.</li><li><code>industry_names::Array{String, 1}</code>: An array of industry names to be used as column names.</li><li><code>mapping::Dict{String, String}</code>: A dictionary mapping old column names to new column names for reduction.</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: A new DataFrame with the matrix data, renamed columns, and reduced columns based on the mapping.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L294-L306">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.clean_rows-Tuple{DataFrames.DataFrame, String, Vector{String}, Dict{String, String}}" href="#Supergrassi.clean_rows-Tuple{DataFrames.DataFrame, String, Vector{String}, Dict{String, String}}"><code>Supergrassi.clean_rows</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function clean_rows(data::DataFrame, row_names::String, col_names::Array{String, 1}, mapping::Dict{String, String})</code></pre><p>Clean selected subset of rows in a DataFrame based on row names and rename columns.</p><p><strong>Arguments</strong></p><ul><li><code>data::DataFrame</code>: The DataFrame containing the data to be cleaned.</li><li><code>row_names::String</code>: The name of the row to select.</li><li><code>col_names::Array{String, 1}</code>: An array of new column names to rename the selected columns.</li><li><code>mapping::Dict{String, String}</code>: A dictionary mapping old column names to new column names for reduction.</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: A new DataFrame with selected rows, renamed columns, and reduced columns based on the mapping.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L248-L261">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.clean_sigma_bar-Tuple{Vector, Vector{Int64}, Vector{String}}" href="#Supergrassi.clean_sigma_bar-Tuple{Vector, Vector{Int64}, Vector{String}}"><code>Supergrassi.clean_sigma_bar</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">clean_sigma_bar(sigma_data::Vector, zero_list::Vector{Int64}, sic64::Vector{String})</code></pre><p>Clean the sigma bar data by converting it to a DataFrame, parsing strings to Float64, and setting specified indices to zero.</p><p><strong>Arguments</strong></p><ul><li><code>sigma_data::Vector</code>: A vector containing sigma bar data.</li><li><code>zero_list::Vector{Int64}</code>: A vector of indices where the sigma bar values should be set to zero.</li><li><code>sic64::Vector{String}</code>: A vector of SIC 64 industry names to be used as column names.</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: A DataFrame containing the cleaned sigma bar data, with specified indices set to zero.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L837-L848">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.clean_vector-Tuple{Vector{&lt;:Number}, Vector{String}, Dict{String, String}}" href="#Supergrassi.clean_vector-Tuple{Vector{&lt;:Number}, Vector{String}, Dict{String, String}}"><code>Supergrassi.clean_vector</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function clean_vector(data::Vector{&lt;:Number}, industry_names::Array{String, 1}, mapping::Dict{String, String})</code></pre><p>Clean a vector of numbers by creating a DataFrame, renaming columns, and reducing columns based on a mapping.</p><p><strong>Arguments</strong></p><ul><li><code>data::Vector{&lt;:Number}</code>: A vector of numbers to be cleaned.</li><li><code>industry_names::Array{String, 1}</code>: An array of industry names to be used as column names.</li><li><code>mapping::Dict{String, String}</code>: A dictionary mapping old column names to new column names for reduction.</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: A new DataFrame with the vector data, renamed columns, and reduced columns based on the mapping.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L272-L284">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.combine_dataframe_row_wise-Tuple{DataFrames.DataFrame, Function}" href="#Supergrassi.combine_dataframe_row_wise-Tuple{DataFrames.DataFrame, Function}"><code>Supergrassi.combine_dataframe_row_wise</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function combine_dataframe_row_wise(data::DataFrame, func::Function)</code></pre><p>Combine rows of a DataFrame by applying a function to each row.</p><p><strong>Arguments</strong></p><ul><li><code>data::DataFrame</code>: The DataFrame containing the data to be combined.</li><li><code>func::Function</code>: A function to apply to each row of the DataFrame.</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: A new DataFrame with the combined results, where each column is named after the original column names.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L212-L223">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.compute_advalorem_tax-Tuple{Supergrassi.IndustryData}" href="#Supergrassi.compute_advalorem_tax-Tuple{Supergrassi.IndustryData}"><code>Supergrassi.compute_advalorem_tax</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_advalorem_tax(data::IndustryData)</code></pre><p>Compute the ad valorem tax rate by combining product and production taxes, normalized by total use.</p><p><strong>Arguments</strong></p><ul><li><code>data::IndustryData</code>: Industry data containing tax and regional total use information</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/parameters_interface.jl#L334-L341">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.compute_all_parameters" href="#Supergrassi.compute_all_parameters"><code>Supergrassi.compute_all_parameters</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function compute_all_parameters(data::CleanData, prices::DataFrame, fun::Function = parameters_by_region)</code></pre><p>Compute all utility function parameters and their derivativesfrom regional data, elasticities and prices.</p><p>For description of the parameters, see Table 2  of Nesheim et al (in prep). Return two <a href="#Supergrassi.Parameters"><code>Parameters</code></a> structs, the first one contains values of parameters α, β1, β2, ρ and γ, the second one contains their derivatives with respect to <code>prices.uk</code>.</p><p>See the tests in <a href="https://github.com/UCL/Supergrassi.jl/blob/main/test/test_parameters_with_data.jl">test<em>parameters</em>with_data.jl</a> for an example of use.</p><p><strong>Arguments</strong></p><ul><li><code>data::CleanData</code>: Data structure created by <a href="#Supergrassi.clean_data-Tuple{Supergrassi.Data, Dict{String, Any}}"><code>clean_data</code></a></li><li><code>prices::DataFrame</code>: Logarithm of price index equilibrium variable. Has three components (uk, eu, world)</li><li><code>fun::Function=parameters_by_region</code>: Function that computes three parameters by region. Either <a href="#Supergrassi.parameters_by_region-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>parameters_by_region</code></a> or <a href="#Supergrassi.log_parameters_by_region-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>log_parameters_by_region</code></a></li></ul><p>See also <a href="#Supergrassi.compute_parameter-Tuple{DataFrames.DataFrame, Supergrassi.Elasticity, DataFrames.DataFrame, Bool}"><code>compute_parameter</code></a>, <a href="#Supergrassi.compute_foreign_share-Union{Tuple{T}, Tuple{Supergrassi.ParamsStruct, Supergrassi.ParamsStruct, DataFrames.DataFrame, Supergrassi.Elasticity, DataFrames.DataFrame, Vararg{T, 4}}} where T&lt;:Real"><code>compute_foreign_share</code></a>, <a href="#Supergrassi.compute_production_parameter-Tuple{Supergrassi.CleanData, DataFrames.DataFrame, Bool}"><code>compute_production_parameter</code></a>, <a href="#Supergrassi.Parameters"><code>Parameters</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/parameters_interface.jl#L5-L22">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.compute_foreign_share-Union{Tuple{T}, Tuple{Supergrassi.ParamsStruct, Supergrassi.ParamsStruct, DataFrames.DataFrame, Supergrassi.Elasticity, DataFrames.DataFrame, Vararg{T, 4}}} where T&lt;:Real" href="#Supergrassi.compute_foreign_share-Union{Tuple{T}, Tuple{Supergrassi.ParamsStruct, Supergrassi.ParamsStruct, DataFrames.DataFrame, Supergrassi.Elasticity, DataFrames.DataFrame, Vararg{T, 4}}} where T&lt;:Real"><code>Supergrassi.compute_foreign_share</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_foreign_share(param::ParamsStruct, dparam::ParamsStruct, demand::DataFrame,
                      elasticity::Elasticity, prices::DataFrame, E::T, Ex::T,
                      PTilde::T, exchange_rate::T) where {T&lt;:Real}</code></pre><p>Compute the share of foreign expenditure on UK exports, β̃  in the paper by Nesheim et al.</p><p>Computes the value and derivative of β̃  and adds them to the structures <code>param</code> and <code>dparam</code>, respectively. Because the strucs are immutable, a copy is created. Requires input outside of the regional demand data which is why this has been split into a different function from <a href="#Supergrassi.compute_parameter-Tuple{DataFrames.DataFrame, Supergrassi.Elasticity, DataFrames.DataFrame, Bool}"><code>compute_parameter</code></a>.</p><p><strong>Arguments</strong></p><ul><li><code>param::ParamsStruct</code>: Parameters.</li><li><code>dparam::ParamsStruct</code>: Derivatives of parameters.</li><li><code>demand::DataFrame</code>: Demand data disaggregated by region.</li><li><code>elasticity::Elasticity</code>: Values for elasticity of substitution</li><li><code>prices::DataFrame</code>: Logarithm of price index equilibrium variable. Disagregated by region.</li><li><code>E::Real</code>: Household expenditure</li><li><code>Ex::Real</code>: Foreign expenditure on UK exports</li><li><code>PTilde::Real</code>: The foreign price index.</li><li><code>exchange_rate::Real</code>: The exchange rate between domestic and foreign currency.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/parameters_interface.jl#L117-L138">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.compute_imports_shares-Tuple{Supergrassi.Constants}" href="#Supergrassi.compute_imports_shares-Tuple{Supergrassi.Constants}"><code>Supergrassi.compute_imports_shares</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_imports_shares(constants::Constants)</code></pre><p>Compute the share of UK imports in total imports for EU and world regions.</p><p><strong>Arguments</strong></p><ul><li><code>constants::Constants</code>: Constants containing import and exchange rate information</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/parameters_interface.jl#L376-L383">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.compute_input_by_skill-Tuple{Supergrassi.HouseholdData, Supergrassi.Elasticity}" href="#Supergrassi.compute_input_by_skill-Tuple{Supergrassi.HouseholdData, Supergrassi.Elasticity}"><code>Supergrassi.compute_input_by_skill</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_input_by_skill(data::HouseholdData, elasticity::Elasticity)</code></pre><p>Compute input shares by skill level (low and high skill) based on household payments and wages.</p><p><strong>Arguments</strong></p><ul><li><code>data::HouseholdData</code>: Household data containing payments and wages information</li><li><code>elasticity::Elasticity</code>: Elasticity of substitution for production parameters</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/parameters_interface.jl#L353-L361">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.compute_objective_function-Tuple{Vector{&lt;:Number}, Supergrassi.CleanData, Supergrassi.Parameters}" href="#Supergrassi.compute_objective_function-Tuple{Vector{&lt;:Number}, Supergrassi.CleanData, Supergrassi.Parameters}"><code>Supergrassi.compute_objective_function</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_objective_function(x::Vector{&lt;:Number}, data::CleanData, params::Parameters)</code></pre><p>Computes the objective function value based on a vector of parameters.</p><p><strong>Arguments</strong></p><ul><li><code>x::Vector{&lt;:Number}</code>: Vector containing log prices and zOC values.</li><li><code>data::CleanData</code>: Cleaned data structure containing industry and regional information.</li><li><code>params::Parameters</code>: Parameters structure containing production and constants.</li></ul><p><strong>Returns</strong></p><ul><li><code>objective_value::Float64</code>: The computed objective function value.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/objective_function.jl#L34-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.compute_objective_function-Tuple{Vector{&lt;:Number}, Vector{&lt;:Number}, Supergrassi.CleanData, Supergrassi.Parameters}" href="#Supergrassi.compute_objective_function-Tuple{Vector{&lt;:Number}, Vector{&lt;:Number}, Supergrassi.CleanData, Supergrassi.Parameters}"><code>Supergrassi.compute_objective_function</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function compute_objective_function(log_price_uk::Vector{&lt;:Number}, zOC::Vector{&lt;:Number}, data::CleanData, params::Parameters)</code></pre><p>Computes the objective function value based on the log prices and zOC values.</p><p><strong>Arguments</strong></p><ul><li><code>log_price_uk::Vector{&lt;:Number}</code>: Logarithm of UK prices.</li><li><code>zOC::Vector{&lt;:Number}</code>: Vector of zOC values.</li><li><code>data::CleanData</code>: Cleaned data structure containing industry and regional information.</li><li><code>params::Parameters</code>: Parameters structure containing production and constants.</li></ul><p><strong>Returns</strong></p><ul><li><code>objective_value::Float64</code>: The computed objective function value.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/objective_function.jl#L1-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.compute_parameter-Tuple{DataFrames.DataFrame, Supergrassi.Elasticity, DataFrames.DataFrame, Bool}" href="#Supergrassi.compute_parameter-Tuple{DataFrames.DataFrame, Supergrassi.Elasticity, DataFrames.DataFrame, Bool}"><code>Supergrassi.compute_parameter</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function compute_parameter(demand::DataFrame, elasticity::Elasticity, prices::DataFrame, fun::Function = parameters_by_region)</code></pre><p>Compute 1d utility function parameters and their derivatives from a regional demand DataFrame and the corresponding elasticity.</p><p><strong>Arguments</strong></p><ul><li><code>demand::DataFrame</code>: Demand data disaggregated by region</li><li><code>elasticity::Elasticity</code>: Values for elasticity of substitution</li><li><code>prices::DataFrame</code>: Logarithm of price index equilibrium variable. Disagregated by region.</li><li><code>fun::Function = parameters_by_region</code>: Function that computes three parameters by region. Either <a href="#Supergrassi.parameters_by_region-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>parameters_by_region</code></a> or <a href="#Supergrassi.log_parameters_by_region-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>log_parameters_by_region</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/parameters_interface.jl#L56-L66">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.compute_production_parameter-Tuple{Supergrassi.CleanData, DataFrames.DataFrame, Bool}" href="#Supergrassi.compute_production_parameter-Tuple{Supergrassi.CleanData, DataFrames.DataFrame, Bool}"><code>Supergrassi.compute_production_parameter</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function compute_production_parameter(data::CleanData, prices::DataFrame, fun::Function = parameters_by_region)</code></pre><p>Compute the 2d utility function parameters γM, γH, γK from regional InputMatrices and the corresponding elasticity.</p><p><strong>Arguments</strong></p><ul><li><code>data::CleanData</code>: Data structure created by <a href="#Supergrassi.clean_data-Tuple{Supergrassi.Data, Dict{String, Any}}"><code>clean_data</code></a></li><li><code>prices::DataFrame</code>: Logarithm of price index equilibrium variable. Has three components (uk, eu, world)</li><li><code>fun::Function=parameters_by_region</code>: Function that computes three parameters by region. Either <a href="#Supergrassi.parameters_by_region-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>parameters_by_region</code></a> or <a href="#Supergrassi.log_parameters_by_region-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>log_parameters_by_region</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/parameters_interface.jl#L162-L172">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.compute_wage_index-Tuple{Supergrassi.HouseholdData, Supergrassi.Elasticity}" href="#Supergrassi.compute_wage_index-Tuple{Supergrassi.HouseholdData, Supergrassi.Elasticity}"><code>Supergrassi.compute_wage_index</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_wage_index(data::HouseholdData, elasticity::Elasticity)</code></pre><p>Computes aggregate wage index for households based on household data and elasticity of production.</p><p><a href="https://github.com/UCL/Supergrassi/blob/29510a8c9f50427068a475be01583b544975bd5c/code/matlab/macro_v2/B1_SetupParameters.m#L328-L332">ref</a></p><p><strong>Arguments</strong></p><ul><li><code>data::HouseholdData</code>: Data structure containing <code>wages</code> and <code>payments</code> DataFrames <a href="#Supergrassi.HouseholdData"><code>HouseholdData</code></a></li><li><code>elasticity::Elasticity</code>: Elasticity of substitution for production parameters (ξ)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/parameters_interface.jl#L310-L320">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.convert_to_ratio!-Tuple{DataFrames.DataFrame}" href="#Supergrassi.convert_to_ratio!-Tuple{DataFrames.DataFrame}"><code>Supergrassi.convert_to_ratio!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">convert_to_ratio!(df::DataFrame)</code></pre><p>Convert regional vector data into fractions of the aggregate value. Then renormalise the aggregate value by its sum. Nans are replaced with 0&#39;s.</p><p><strong>Arguments</strong></p><ul><li><code>df::DataFrame</code>: The DataFrame containing regional vector data to be converted into ratios.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L710-L719">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.convert_to_ratio!-Tuple{Supergrassi.HouseholdData}" href="#Supergrassi.convert_to_ratio!-Tuple{Supergrassi.HouseholdData}"><code>Supergrassi.convert_to_ratio!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">convert_to_ratio!(data::HouseholdData)</code></pre><p>Convert household data into ratios of low and high payments to the sum of low and high payments.</p><p><strong>Arguments</strong></p><ul><li><code>data::HouseholdData</code>: The HouseholdData struct containing household data to be converted into ratios.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L684-L691">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.convert_to_ratio!-Tuple{Supergrassi.InputMatrices}" href="#Supergrassi.convert_to_ratio!-Tuple{Supergrassi.InputMatrices}"><code>Supergrassi.convert_to_ratio!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">convert_to_ratio!(data::InputMatrices)</code></pre><p>Convert regional matrix data to fractions of the aggregate value Nans are replaced with 0&#39;s</p><p><strong>Arguments</strong></p><ul><li><code>data::InputMatrices</code>: The InputMatrices struct containing regional matrix data to be converted into ratios.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L731-L739">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.convert_to_ratio!-Tuple{Supergrassi.RegionalData}" href="#Supergrassi.convert_to_ratio!-Tuple{Supergrassi.RegionalData}"><code>Supergrassi.convert_to_ratio!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">convert_to_ratio!(data::RegionalData)</code></pre><p>Convert regional data into ratios of region / sum(regions)</p><p><strong>Arguments</strong></p><ul><li><code>data::RegionalData</code>: The RegionalData struct containing regional data to be converted into ratios.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L660-L667">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.correct_exports_with_services!-Tuple{DataFrames.DataFrame, DataFrames.DataFrame, DataFrames.DataFrame}" href="#Supergrassi.correct_exports_with_services!-Tuple{DataFrames.DataFrame, DataFrames.DataFrame, DataFrames.DataFrame}"><code>Supergrassi.correct_exports_with_services!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function correct_exports_with_services!(export_to_eu::DataFrame, export_to_world::DataFrame, services_export::DataFrame)</code></pre><p>Function to correct exports by accounting for NaN values and scaling appropriately.</p><p><strong>Arguments</strong></p><ul><li><code>export_to_eu::DataFrame</code>: DataFrame containing exports to the EU.</li><li><code>export_to_world::DataFrame</code>: DataFrame containing exports to the World.</li><li><code>services_export::DataFrame</code>: DataFrame containing service exports.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L455-L464">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.create_filepath-Tuple{String}" href="#Supergrassi.create_filepath-Tuple{String}"><code>Supergrassi.create_filepath</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_filepath(basepath::String)</code></pre><p>Creates a file path.</p><p><strong>Arguments</strong></p><ul><li><code>file_path::FilePath</code>: The file path object.</li></ul><p><strong>Returns</strong></p><ul><li><code>Bool</code>: Whether the file path is valid.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">file_path = FilePath(&quot;data.csv&quot;)
println(is_valid) # true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/pathvalidator.jl#L72-L88">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.create_filepath_from_template-Tuple{String, Dict{String, Any}}" href="#Supergrassi.create_filepath_from_template-Tuple{String, Dict{String, Any}}"><code>Supergrassi.create_filepath_from_template</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_filepath_from_template(basepath::String, substitution_dict::Dict{String, Any})</code></pre><p>Creates a file path from a template string and a dictionary of substitutions.</p><p><strong>Arguments</strong></p><ul><li><code>basepath::String</code>: The template string.</li><li><code>substitution_dict::Dict{String, Any}</code>: The dictionary of substitutions.</li></ul><p><strong>Returns</strong></p><ul><li><code>FilePath</code>: The file path object.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">substitutions = Dict(
    &quot;name&quot; =&gt; &quot;data&quot;,
    &quot;format&quot; =&gt; &quot;csv&quot;,
    &quot;directory&quot; =&gt; &quot;dir&quot;,
    &quot;suffix&quot; =&gt; 1,
)

template = &quot;{directory}/{name}{suffix}.{format}&quot;
filepath = create_filepath_from_template(template, substitutions)
println(filepath.path) # &quot;dir/data1.csv&quot;
println(filepath.directory) # &quot;dir&quot;
println(filepath.file) # &quot;data1.csv&quot;
println(filepath.extension) # &quot;.csv&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/pathvalidator.jl#L32-L60">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.create_map_105_to_64" href="#Supergrassi.create_map_105_to_64"><code>Supergrassi.create_map_105_to_64</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function create_map_105_to_64(merge_codes::DataFrame, verbose::Bool = false)</code></pre><p>Create a mapping from SIC 105 industry names to SIC 64 industry names.</p><p><strong>Arguments</strong></p><ul><li><code>merge_codes::DataFrame</code>: A DataFrame containing the mapping between SIC 105 and SIC 64 industry names. It should have two columns: <code>sic105</code> containing SIC 105 industry names and <code>sic64</code> containing SIC 64 industry names.</li><li><code>verbose::Bool</code>: If true, prints the initial and final industry names.</li></ul><p><strong>Returns</strong></p><ul><li><code>Dict{String, String}</code>: A dictionary mapping SIC 105 industry names to SIC 64 industry names.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L6-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.create_map_64_to_16" href="#Supergrassi.create_map_64_to_16"><code>Supergrassi.create_map_64_to_16</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function create_map_105_to_64(merge_codes::DataFrame, verbose::Bool = false)</code></pre><p>Create a mapping from SIC 64 industry names to SIC 16 industry names.</p><p><strong>Arguments</strong></p><ul><li><code>merge_codes::DataFrame</code>: A DataFrame containing the mapping between SIC 64 and SIC 16 industry names. It should have two columns: <code>x1</code> containing SIC 64 industry names and <code>x7</code> containing SIC 16 industry names.</li><li><code>verbose::Bool</code>: If true, prints the initial and final industry names.</li></ul><p><strong>Returns</strong></p><ul><li><code>Dict{String, String}</code>: A dictionary mapping SIC 64 industry names to SIC 16 industry names.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L40-L50">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.generate_constants-Tuple{Supergrassi.Data, Dict{String, Any}}" href="#Supergrassi.generate_constants-Tuple{Supergrassi.Data, Dict{String, Any}}"><code>Supergrassi.generate_constants</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">generate_constants(data::Data, settings::Dict{String, Any})</code></pre><p>Generate a Constants struct from the provided data and settings.</p><p><strong>Arguments</strong></p><ul><li><code>data::Data</code>: The Data struct containing various economic data.</li><li><code>settings::Dict{String, Any}</code>: A dictionary containing constants and settings for the model.</li></ul><p><strong>Returns</strong></p><ul><li><code>Constants</code>: A Constants struct containing the year, exchange rates, interest rate, total imports, import tariffs, export costs, and elasticities.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L865-L876">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.group_columns_by_new_name-Tuple{Dict{String, String}}" href="#Supergrassi.group_columns_by_new_name-Tuple{Dict{String, String}}"><code>Supergrassi.group_columns_by_new_name</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function group_columns_by_new_name(mapping::Dict{String, String})</code></pre><p>Group columns by their new names based on a mapping.</p><p><strong>Arguments</strong></p><ul><li><code>mapping::Dict{String, String}</code>: A dictionary mapping old column names to new column names.</li></ul><p><strong>Returns</strong></p><ul><li><code>Dict{String, Vector{Symbol}}</code>: A dictionary where keys are new column names and values are vectors of old column names (as Symbols) that map to them.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L127-L137">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.group_dataframes" href="#Supergrassi.group_dataframes"><code>Supergrassi.group_dataframes</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function group_dataframes(dfs::AbstractArray, col_names::AbstractArray, industry_names::AbstractArray, industries_on_cols::Bool = true, reduction_fun::Function = nothing, mapping::Dict{String, String} = Dict(); kwargs...)</code></pre><p>Group multiple DataFrames by industry names and aggregate their values.</p><p><strong>Arguments</strong></p><ul><li><code>dfs::AbstractArray</code>: An array of DataFrames to be grouped.</li><li><code>col_names::AbstractArray</code>: An array of column names for the resulting DataFrame.</li><li><code>industry_names::AbstractArray</code>: An array of industry names to be used as row names.</li><li><code>industries_on_cols::Bool</code>: If true, industries will be on columns; otherwise, they will be on rows.</li><li><code>reduction_fun::Function</code>: A function to apply for data aggregation (default is <code>nothing</code>).</li><li><code>mapping::Dict{String, String}</code>: A dictionary mapping old column names to new column names.</li><li><code>kwargs...</code>: Additional keyword arguments to be passed to the <code>reduction_fun</code>.</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: A DataFrame with industries as rows or columns, depending on <code>industries_on_cols</code>, and aggregated values.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L149-L165">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.labor_fun-Union{Tuple{T}, Tuple{T, T, T}} where T&lt;:Real" href="#Supergrassi.labor_fun-Union{Tuple{T}, Tuple{T, T, T}} where T&lt;:Real"><code>Supergrassi.labor_fun</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">labor_fun(labor::T, log_wages::T, elasticity::T) where {T &lt;: Real}</code></pre><p><strong>Argument:</strong></p><ul><li><code>labor</code>: Labor input.</li><li><code>log_wages</code>: Log of wages.</li><li><code>elasticity</code>: Elasticity parameter.</li></ul><p><strong>See also</strong></p><p><a href="#Supergrassi.compute_wage_index-Tuple{Supergrassi.HouseholdData, Supergrassi.Elasticity}"><code>compute_wage_index</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/parameters.jl#L494-L504">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.log_eu_expenditure_on_uk_exports-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, Vararg{T, 6}}} where T&lt;:Real" href="#Supergrassi.log_eu_expenditure_on_uk_exports-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, Vararg{T, 6}}} where T&lt;:Real"><code>Supergrassi.log_eu_expenditure_on_uk_exports</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function log_eu_expenditure_on_uk_exports(log_price_index::Vector{T}, quantity::Vector{T},Ex::T, ETilde::T, ePx::T, PTilde::T, elasticity::T,elasticity_tilde::T) where {T &lt;: Real}</code></pre><p>Compute the share of EU expenditure on UK exports, defined in section 2.2.1 of the main paper.</p><p>for the export parameters β, this is the share of foreign expenditure on UK exports.</p><p><strong>Arguments</strong></p><ul><li><code>log_price_index::Vector{Real}</code> : price index computed by <a href="#Supergrassi.log_price_index-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>log_price_index</code></a></li><li><code>quantity::Vector{Real}</code> : Quantity of domestically-produced good i exported to the EU</li><li><code>Ex::Real</code> : sum of imports</li><li><code>Etilde::Real</code>: EU expenditure on UK exports</li><li><code>ePx::Real</code> : exchange rate to foreign currency</li><li><code>Ptilde::Real</code> : UK exportprice index</li><li><code>elasticity::Real</code> : substitution elasticity</li><li><code>elasticity_tilde::Real</code> : substitution from uk to other elasticity</li></ul><p><strong>See also <a href="#Supergrassi.ParamsStruct"><code>ParamsStruct</code></a>.</strong></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/parameters.jl#L108-L126">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.log_parameter_by_region-Union{Tuple{T}, NTuple{4, T}} where T&lt;:Real" href="#Supergrassi.log_parameter_by_region-Union{Tuple{T}, NTuple{4, T}} where T&lt;:Real"><code>Supergrassi.log_parameter_by_region</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function log_parameter_by_region(elasticity::T, quantity_region::T, logP_region::T, logP::T) where {T &lt;: Real}</code></pre><p>Compute log of an utility function parameter for a single region. See <a href="#Supergrassi.parameter_by_region-Union{Tuple{T}, NTuple{4, T}} where T&lt;:Real"><code>parameter_by_region</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/parameters.jl#L18-L22">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.log_parameters_by_region-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real" href="#Supergrassi.log_parameters_by_region-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>Supergrassi.log_parameters_by_region</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function log_parameters_by_region(elasticity::T,log_price_uk::T,log_price_eu::T,log_price_world::T,quantity_uk::T,quantity_eu::T,quantity_world::T) where {T &lt;: Real}</code></pre><p>Compute log of utility function parameters. See <a href="#Supergrassi.parameters_by_region-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>parameters_by_region</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/parameters.jl#L57-L62">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.log_price_index-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real" href="#Supergrassi.log_price_index-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>Supergrassi.log_price_index</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function log_price_index(elasticity::T,log_price_uk::T, log_price_eu::T, log_price_world::T,demand_uk::T, demand_eu::T, demand_world::T) where {T &lt;: Real}</code></pre><p>Compute the log of the consumer price index. See <a href="#Supergrassi.price_index-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>price_index</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/parameters.jl#L164-L168">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.log_total_price_index-Union{Tuple{T}, Tuple{T, Vector{T}, Vector{T}}} where T&lt;:Real" href="#Supergrassi.log_total_price_index-Union{Tuple{T}, Tuple{T, Vector{T}, Vector{T}}} where T&lt;:Real"><code>Supergrassi.log_total_price_index</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function log_total_price_index(elasticity::T, log_price_index::Vector{T}, quantity::Vector{T}) where {T &lt;: Real}</code></pre><p>Compute the total consumer price index defined in equation 2.7 of the main paper as ar{P}. Matlab code reference e.g. ComputeTheta.m line 58.</p><p><strong>Arguments</strong></p><ul><li><code>elasticity::Real</code> : substitution elasticity</li><li><code>log_price_index::Vector{Real}</code> : price index computed by <a href="#Supergrassi.log_price_index-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>log_price_index</code></a></li><li><code>quantity:Vector{Real}</code> : aggregate quantity [f, x1, x2, I, m]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/parameters.jl#L183-L193">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.log_weight_kernel-Union{Tuple{T}, Tuple{T, T, T}} where T&lt;:Real" href="#Supergrassi.log_weight_kernel-Union{Tuple{T}, Tuple{T, T, T}} where T&lt;:Real"><code>Supergrassi.log_weight_kernel</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">log_weight_kernel(a::T, b::T, elasticity::T) where {T &lt;: Real}</code></pre><p>computes log(a/b^(1-elasticity))</p><p><strong>Argument:</strong></p><ul><li><code>a</code>: Numerator value (in log form).</li><li><code>b</code>: Denominator base value (in log form).</li><li><code>elasticity</code>: substitution elasticity parameter</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/parameters.jl#L432-L441">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.merge_quarterly_data-Tuple{DataFrames.DataFrame, Int64, Vector, Function}" href="#Supergrassi.merge_quarterly_data-Tuple{DataFrames.DataFrame, Int64, Vector, Function}"><code>Supergrassi.merge_quarterly_data</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function merge_quarterly_data(df::DataFrame, year::Int64, industry_names::Vector, fun::Function)</code></pre><p>Merge quarterly data for a specific year by applying a function to each row.</p><p><strong>Arguments</strong></p><ul><li><code>df::DataFrame</code>: The DataFrame containing quarterly data.</li><li><code>year::Int64</code>: The year for which the data is to be merged.</li><li><code>industry_names::Vector</code>: A vector of industry names to be used as row names.</li><li><code>fun::Function</code>: A function to combine the quarterly data (e.g., <code>sum</code>).</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: A new DataFrame with the merged data for the specified year, with industry names as row names.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L574-L587">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.parameter_by_region-Union{Tuple{T}, NTuple{4, T}} where T&lt;:Real" href="#Supergrassi.parameter_by_region-Union{Tuple{T}, NTuple{4, T}} where T&lt;:Real"><code>Supergrassi.parameter_by_region</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function parameter_by_region(elasticity::T, quantity_region::T, logP_region::T, logP::T) where {T &lt;: Real}</code></pre><p>Compute an utility function parameter for a single region</p><p><strong>Arguments</strong></p><ul><li><code>elasticity::Real</code> : substitution elasticity</li><li><code>quantitity_region::Real</code> : quantity for the region. One of [f, x1, x2, I, m]</li><li><code>logP_region::Real</code> : log of price index for region</li><li><code>logP::Real</code> :  log of aggregate price index</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/parameters.jl#L1-L11">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.parameters_by_region-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real" href="#Supergrassi.parameters_by_region-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>Supergrassi.parameters_by_region</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function parameters_by_region(elasticity::T,log_price_uk::T,log_price_eu::T,log_price_world::T,quantity_uk::T,quantity_eu::T,quantity_world::T) where {T &lt;: Real}</code></pre><p>Compute utility function parameters by region considered in the model (uk, eu, rest of world). Parameters of this type appear in multiple utility functions in the paper, and are annotated (at least) α, β1, β2, γ and ρ.</p><p>This is refactored from the Matlab code in e.g. ComputeTheta lines 62-64</p><p><strong>Arguments</strong></p><ul><li><code>elasticity::Real</code> : substitution elasticity. One of [ϵ, χ1, χ2, η, ξ]</li><li><code>log_price_{uk, eu, w}::Real</code> : log price indices for each region [log(p)]</li><li><code>quantity_{uk, eu, w}::Real</code> :  quantity for the region. One of [f, x1, x2, I, m]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/parameters.jl#L29-L42">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.parse_string_dataframe!" href="#Supergrassi.parse_string_dataframe!"><code>Supergrassi.parse_string_dataframe!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function parse_string_dataframe!(df::DataFrame, T::Type, default_val=nothing)</code></pre><p>Parse string columns in a DataFrame to a specified type, replacing missing values with a default value.</p><p><strong>Arguments</strong></p><ul><li><code>df::DataFrame</code>: The DataFrame containing the string columns to be parsed.</li><li><code>T::Type</code>: The type to which the string columns should be parsed (e.g., <code>Float64</code>).</li><li><code>default_val</code>: The value to replace missing values with (default is <code>nothing</code>).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L228-L237">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.postprocess_clean_data!-Tuple{Supergrassi.CleanData}" href="#Supergrassi.postprocess_clean_data!-Tuple{Supergrassi.CleanData}"><code>Supergrassi.postprocess_clean_data!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">postprocess_clean_data!(data::CleanData)</code></pre><p>Post-process the cleaned data to convert regional data into ratios, round shares, and rescale the data.</p><p><strong>Arguments</strong></p><ul><li><code>data::CleanData</code>: The CleanData struct containing household and industry data to be post-processed.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L1053-L1059">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.price_index-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real" href="#Supergrassi.price_index-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>Supergrassi.price_index</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function price_index(elasticity::T,log_price_uk::T, log_price_eu::T, log_price_world::T,demand_uk::T, demand_eu::T, demand_world::T) where {T &lt;: Real}</code></pre><p>Compute the the consumer price index defined in equation 2.3 of the main paper as ar{p}. Matlab code reference e.g. ComputeTheta.m line 49.</p><p><strong>Arguments</strong></p><ul><li><code>elasticity::Real</code> : substitution elasticity</li><li><code>log_price_{uk, eu, w}::Real</code> : log price indices for each region [log(p)]</li><li><code>demand_{uk, eu, w}::Real</code> :  demand for the region. One of [f, x1, x2, I, m]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/parameters.jl#L141-L151">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.productivity_shock_mean-Union{Tuple{T}, Tuple{Supergrassi.Elasticity, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, T, T, T, T, T, T, Int64, Bool}} where T&lt;:Real" href="#Supergrassi.productivity_shock_mean-Union{Tuple{T}, Tuple{Supergrassi.Elasticity, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, T, T, T, T, T, T, Int64, Bool}} where T&lt;:Real"><code>Supergrassi.productivity_shock_mean</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function productivity_shock_mean(elasticity::Elasticity, prices_uk::Vector{T}, prices_eu::Vector{T}, prices_world::Vector{T},
                             input_uk::Vector{T}, input_eu::Vector{T}, input_world::Vector{T}, input_agg::Vector{T},
                             surplus::T, capital::T, output::T, labor::T, log_wages::T, tau::T, row::Int, log_scale::Bool) where {T &lt;: Real}</code></pre><p>Compute the productivity shock mean μ</p><ul><li><code>prices_uk::Vector{Real}</code> : uk price index</li><li><code>prices_eu::Vector{Real}</code> : eu price index</li><li><code>prices_world::Vector{Real}</code> : rest of world price index</li><li><code>input_uk::Vector{Real}</code> : uk firms intermediate input</li><li><code>input_eu::Vector{Real}</code> : eu firms intermediate input</li><li><code>input_world::Vector{Real}</code> : rest of world firms intermediate input</li><li><code>input_agg::Vector{Real}</code> : aggreagete firms intermediate input</li><li><code>suprlus::Real</code> : firms suprlus, data.kValue</li><li><code>capital::Real</code> : firms capital, data.k0</li><li><code>output::Real</code> : total household use, data.yValue</li><li><code>labor::Real</code> : payments for labor, data.hValue</li><li><code>log_wages::Real</code> : aggregate wages of households</li><li><code>elasticity::Real</code> : substitution elasticity</li><li><code>tau::Real</code> : ratio of taxes to household use</li><li><code>row::Int</code> : index of firm i</li><li><code>log_scale::Bool</code> : return parameters in log scale</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/parameters.jl#L370-L394">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.read_csv-Tuple{String}" href="#Supergrassi.read_csv-Tuple{String}"><code>Supergrassi.read_csv</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">read_csv(file::String)</code></pre><p>Reads a CSV file and returns a DataFrame.</p><p><strong>Arguments</strong></p><ul><li><code>file::String</code>: The path to the CSV file.</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: A DataFrame containing the data from the CSV file.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">df = read_csv(&quot;data.csv&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/reader.jl#L49-L64">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.read_excel-Tuple{String}" href="#Supergrassi.read_excel-Tuple{String}"><code>Supergrassi.read_excel</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">read_excel(file::String; sheet::String=&quot;Sheet1&quot;, range::String=&quot;A1:Z1000&quot;)</code></pre><p>Reads an Excel file and returns a DataFrame.</p><p><strong>Arguments</strong></p><ul><li><code>file::String</code>: The path to the Excel file.</li><li><code>sheet::String</code>: The name of the sheet to read. Default is &quot;Sheet1&quot;.</li><li><code>range::String</code>: The range of cells to read, in Excel format (e.g., &quot;A1:Z1000&quot;). Default is &quot;A1:Z1000&quot;.</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: A DataFrame containing the data from the specified sheet and range.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">df = read_excel(&quot;data.xlsx&quot;, sheet=&quot;Sheet1&quot;, range=&quot;A1:Z1000&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/reader.jl#L6-L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.read_settings-Tuple{Supergrassi.FilePath}" href="#Supergrassi.read_settings-Tuple{Supergrassi.FilePath}"><code>Supergrassi.read_settings</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">read_settings(file_path::FilePath)</code></pre><p>Reads settings from a YAML file and classifies the dictionary.</p><p><strong>Arguments</strong></p><ul><li><code>file_path::FilePath</code>: The path to the YAML file containing settings.</li></ul><p><strong>Returns</strong></p><ul><li><code>Dict{key_type, value_type}</code>: The classified settings dictionary.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/settings.jl#L47-L57">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.reduce_columns_by_group_sum-Tuple{DataFrames.DataFrame, Dict{String, String}}" href="#Supergrassi.reduce_columns_by_group_sum-Tuple{DataFrames.DataFrame, Dict{String, String}}"><code>Supergrassi.reduce_columns_by_group_sum</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function reduce_columns_by_group_sum(df::DataFrame, mapping::Dict{String, String})</code></pre><p>Reduce columns in a DataFrame by summing them based on a mapping.</p><p><strong>Arguments</strong></p><ul><li><code>df::DataFrame</code>: The DataFrame containing the columns to be reduced.</li><li><code>mapping::Dict{String, String}</code>: A dictionary mapping old column names to new column names.</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: A new DataFrame with reduced columns, where each new column is the sum of the old columns that map to it.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L73-L84">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.reduce_columns_by_group_weighted_mean-Tuple{DataFrames.DataFrame, Dict{String, String}}" href="#Supergrassi.reduce_columns_by_group_weighted_mean-Tuple{DataFrames.DataFrame, Dict{String, String}}"><code>Supergrassi.reduce_columns_by_group_weighted_mean</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">fubction reduce_columns_by_group_weighted_mean(df::DataFrame, mapping::Dict{String, String}; weights::DataFrame = DataFrame(ones(1,ncol(df)), names(df)))</code></pre><p>Reduce columns in a DataFrame by calculating the weighted mean based on a mapping.</p><p><strong>Arguments</strong></p><ul><li><code>df::DataFrame</code>: The DataFrame containing the columns to be reduced.</li><li><code>mapping::Dict{String, String}</code>: A dictionary mapping old column names to new column names.</li><li><code>weights::DataFrame</code>: A DataFrame containing weights for each column. Defaults to a DataFrame of ones.</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: A new DataFrame with reduced columns, where each new column is the weighted mean of the old columns that map to it.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L98-L109">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.rescale_data!-Tuple{Supergrassi.CleanData}" href="#Supergrassi.rescale_data!-Tuple{Supergrassi.CleanData}"><code>Supergrassi.rescale_data!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">rescale_data!(data::CleanData)</code></pre><p>Re-scale the data that does not get convereted into a ratio explicitly, following <a href="https://github.com/UCL/Supergrassi/blob/main/code/matlab/macro_v2/DataCleaning/RescaleData.m">https://github.com/UCL/Supergrassi/blob/main/code/matlab/macro_v2/DataCleaning/RescaleData.m</a>.</p><p><strong>Arguments</strong></p><ul><li><code>data::CleanData</code>: The CleanData struct containing household and industry data to be rescaled.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L611-L619">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.round_shares!" href="#Supergrassi.round_shares!"><code>Supergrassi.round_shares!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">round_shares!(df::DataFrame, threshold = 1e-4)</code></pre><p>Round shares in regional vector data</p><p><strong>Arguments</strong></p><ul><li><code>df::DataFrame</code>: The DataFrame containing regional data to be rounded.</li><li><code>threshold</code>: The threshold below which values are set to 0 (default is <code>1e-4</code>).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L781-L789">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.round_shares!" href="#Supergrassi.round_shares!"><code>Supergrassi.round_shares!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">round_shares!(data::InputMatrices, threshold = 1e-4)</code></pre><p>Round shares in regional matrix data</p><p><strong>Arguments</strong></p><ul><li><code>data::InputMatrices</code>: The InputMatrices struct containing regional matrix data to be rounded.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L807-L814">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.round_shares!" href="#Supergrassi.round_shares!"><code>Supergrassi.round_shares!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">round_shares!(data::RegionalData, threshold::Float64 = 1e-4)</code></pre><p>Round values below threshold in regional data to 0, then rescale so that regions sum to 1.</p><p><strong>Arguments</strong></p><ul><li><code>data::RegionalData</code>: The RegionalData struct containing regional data to be rounded.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L755-L762">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.select_year-Tuple{DataFrames.DataFrame, Int64}" href="#Supergrassi.select_year-Tuple{DataFrames.DataFrame, Int64}"><code>Supergrassi.select_year</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function select_year(data::DataFrame, year::Int64)</code></pre><p>Select rows from a DataFrame based on a specific year.</p><p><strong>Arguments</strong></p><ul><li><code>data::DataFrame</code>: The DataFrame containing the data.</li><li><code>year::Int64</code>: The year to filter the DataFrame by.</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: A new DataFrame containing only the rows for the specified year, with columns converted to Float64 if they are strings.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/cleanup.jl#L188-L199">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.sum_kernel-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, T}} where T&lt;:Real" href="#Supergrassi.sum_kernel-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, T}} where T&lt;:Real"><code>Supergrassi.sum_kernel</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sum_kernel(var::Vector{T}, logP::Vector{T}, elasticity::T) where {T &lt;: Real}</code></pre><p><strong>Argument:</strong></p><ul><li><code>var</code>: Vector of variable values.</li><li><code>logP</code>: Vector of log prices.</li><li><code>elasticity</code>: substitution elasticity parameter</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/parameters.jl#L448-L455">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.total_capital_parameters-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, T, T, T, T, T, Supergrassi.Elasticity, T, Bool}} where T" href="#Supergrassi.total_capital_parameters-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, T, T, T, T, T, Supergrassi.Elasticity, T, Bool}} where T"><code>Supergrassi.total_capital_parameters</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function total_capital_parameters(prices_uk::Vector{T}, prices_eu::Vector{T}, prices_world::Vector{T},
                              input_uk::Vector{T}, input_eu::Vector{T}, input_world::Vector{T}, input_agg::Vector{T},
                              surplus::T, capital::T, output::T, labor::T, log_wages::T, elasticity::Elasticity, tau::T, log_scale::Bool) where T</code></pre><p>Compute the total parameter (γK) for the firms capital utility function.</p><p>Matlab code reference ComputeTheta.m line 254</p><p><strong>Arguments</strong></p><ul><li><code>prices_uk::Vector{Real}</code> : uk price index</li><li><code>prices_eu::Vector{Real}</code> : eu price index</li><li><code>prices_world::Vector{Real}</code> : rest of world price index</li><li><code>input_uk::Vector{Real}</code> : uk firms intermediate input</li><li><code>input_eu::Vector{Real}</code> : eu firms intermediate input</li><li><code>input_world::Vector{Real}</code> : rest of world firms intermediate input</li><li><code>input_agg::Vector{Real}</code> : aggreagete firms intermediate input</li><li><code>suprlus::Real</code> : firms suprlus, data.kValue</li><li><code>capital::Real</code> : firms capital, data.k0</li><li><code>output::Real</code> : total household use, data.yValue</li><li><code>labor::Real</code> : payments for labor, data.hValue</li><li><code>log_wages::Real</code> : aggregate wages of households</li><li><code>elasticity::Real</code> : substitution elasticity</li><li><code>tau::Real</code> : ratio of taxes to household use</li><li><code>log_scale::Bool</code> : return parameters in log scale</li></ul><p><strong>See also</strong></p><p><a href="#Supergrassi.compute_wage_index-Tuple{Supergrassi.HouseholdData, Supergrassi.Elasticity}"><code>compute_wage_index</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/parameters.jl#L315-L343">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.total_input_parameters-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, T, T, T, T, T, Supergrassi.Elasticity, T, Bool}} where T&lt;:Real" href="#Supergrassi.total_input_parameters-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, T, T, T, T, T, Supergrassi.Elasticity, T, Bool}} where T&lt;:Real"><code>Supergrassi.total_input_parameters</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function total_input_parameters(prices_uk::Vector{T}, prices_eu::Vector{T}, prices_world::Vector{T},
                            input_uk::Vector{T}, input_eu::Vector{T}, input_world::Vector{T}, input_agg::Vector{T},
                            surplus::T, capital::T, output::T, labor::T, log_wages::T, elasticity::Elasticity, tau::T, log_scale::Bool) where {T &lt;: Real}</code></pre><p>Compute the total parameter (γM) for the firms input utility function.</p><p>Matlab code reference ComputeTheta.m line 251</p><p><strong>Arguments</strong></p><ul><li><code>prices_uk::Vector{Real}</code> : uk price index</li><li><code>prices_eu::Vector{Real}</code> : eu price index</li><li><code>prices_world::Vector{Real}</code> : rest of world price index</li><li><code>input_uk::Vector{Real}</code> : uk firms intermediate input</li><li><code>input_eu::Vector{Real}</code> : eu firms intermediate input</li><li><code>input_world::Vector{Real}</code> : rest of world firms intermediate input</li><li><code>input_agg::Vector{Real}</code> : aggreagete firms intermediate input</li><li><code>suprlus::Real</code> : firms suprlus, data.kValue</li><li><code>capital::Real</code> : firms capital, data.k0</li><li><code>output::Real</code> : total household use, data.yValue</li><li><code>labor::Real</code> : payments for labor, data.hValue</li><li><code>log_wages::Real</code> : aggregate wages of households</li><li><code>elasticity::Real</code> : substitution elasticity</li><li><code>tau::Real</code> : ratio of taxes to household use</li><li><code>log_scale::Bool</code> : return parameters in log scale</li></ul><p><strong>See also</strong></p><p><a href="#Supergrassi.compute_wage_index-Tuple{Supergrassi.HouseholdData, Supergrassi.Elasticity}"><code>compute_wage_index</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/parameters.jl#L203-L231">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.total_labor_parameters-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, T, T, T, T, T, Supergrassi.Elasticity, T, Bool}} where T" href="#Supergrassi.total_labor_parameters-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, Vector{T}, T, T, T, T, T, Supergrassi.Elasticity, T, Bool}} where T"><code>Supergrassi.total_labor_parameters</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function total_labor_parameters(prices_uk::Vector{T}, prices_eu::Vector{T}, prices_world::Vector{T},
                            input_uk::Vector{T}, input_eu::Vector{T}, input_world::Vector{T}, input_agg::Vector{T},
                            surplus::T, capital::T, output::T, labor::T, log_wages::T, elasticity::Elasticity, tau::T, log_scale::Bool) where T</code></pre><p>Compute the total parameter (γH) for the firms labor utility function.</p><p>Matlab code reference ComputeTheta.m line 249</p><p><strong>Arguments</strong></p><ul><li><code>prices_uk::Vector{Real}</code> : uk price index</li><li><code>prices_eu::Vector{Real}</code> : eu price index</li><li><code>prices_world::Vector{Real}</code> : rest of world price index</li><li><code>input_uk::Vector{Real}</code> : uk firms intermediate input</li><li><code>input_eu::Vector{Real}</code> : eu firms intermediate input</li><li><code>input_world::Vector{Real}</code> : rest of world firms intermediate input</li><li><code>input_agg::Vector{Real}</code> : aggreagete firms intermediate input</li><li><code>suprlus::Real</code> : firms suprlus, data.kValue</li><li><code>capital::Real</code> : firms capital, data.k0</li><li><code>output::Real</code> : total household use, data.yValue</li><li><code>labor::Real</code> : payments for labor, data.hValue</li><li><code>log_wages::Real</code> : aggregate wages of households</li><li><code>elasticity::Real</code> : substitution elasticity</li><li><code>tau::Real</code> : ratio of taxes to household use</li><li><code>log_scale::Bool</code> : return parameters in log scale</li></ul><p><strong>See also</strong></p><p><a href="#Supergrassi.compute_wage_index-Tuple{Supergrassi.HouseholdData, Supergrassi.Elasticity}"><code>compute_wage_index</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/parameters.jl#L260-L290">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.total_parameters-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, T}} where T&lt;:Real" href="#Supergrassi.total_parameters-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}, T}} where T&lt;:Real"><code>Supergrassi.total_parameters</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function total_parameters(log_price_index::Vector{T}, quantity::Vector{T}, elasticity::T ) where {T &lt;: Real}</code></pre><p>Compute the aggregate utility function parameter. Parameters of this type appear in multiple utility function in the paper, and are annotated (at least) α, β1, β2, γ and ρ.</p><p>This is refactored from the Matlab code in e.g. ComputeTheta.m line 59</p><p><strong>Arguments</strong></p><ul><li><code>log_price_index::Vector{Real}</code> : price index computed by <a href="#Supergrassi.log_price_index-Union{Tuple{T}, NTuple{7, T}} where T&lt;:Real"><code>log_price_index</code></a></li><li><code>quantity:Vector{Real}</code> : aggregate quantity [f, x1, x2, I, m]</li><li><code>elasticity::Real</code> : substitution elasticity. One of [ϵ, χ1, χ2, η, ξ]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/parameters.jl#L77-L89">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.weight_kernel-Union{Tuple{T}, Tuple{T, T, T}} where T&lt;:Real" href="#Supergrassi.weight_kernel-Union{Tuple{T}, Tuple{T, T, T}} where T&lt;:Real"><code>Supergrassi.weight_kernel</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">weight_kernel(a::T, b::T, elasticity::T) where {T &lt;: Real}</code></pre><p>Computes a/b^(1-elasticity)</p><p><strong>Argument:</strong></p><ul><li><code>a</code>: Numerator value.</li><li><code>b</code>: Denominator value.</li><li><code>elasticity</code>: substitution elasticity parameter</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/0032e2061998110f294d9922c96351e1ea8557df/src/parameters.jl#L416-L425">source</a></section></article><h2 id="Constants"><a class="docs-heading-anchor" href="#Constants">Constants</a><a id="Constants-1"></a><a class="docs-heading-anchor-permalink" href="#Constants" title="Permalink"></a></h2></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Wednesday 20 August 2025 11:05">Wednesday 20 August 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
