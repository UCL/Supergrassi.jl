<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Introduction · Supergrassi</title><meta name="title" content="Introduction · Supergrassi"/><meta property="og:title" content="Introduction · Supergrassi"/><meta property="twitter:title" content="Introduction · Supergrassi"/><meta name="description" content="Documentation for Supergrassi."/><meta property="og:description" content="Documentation for Supergrassi."/><meta property="twitter:description" content="Documentation for Supergrassi."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>Supergrassi</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Introduction</a><ul class="internal"><li><a class="tocitem" href="#Index"><span>Index</span></a></li><li><a class="tocitem" href="#Types"><span>Types</span></a></li><li><a class="tocitem" href="#Functions"><span>Functions</span></a></li><li><a class="tocitem" href="#Constants"><span>Constants</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Introduction</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Introduction</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/UCL/Supergrassi.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/UCL/Supergrassi.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Supergrassi.jl"><a class="docs-heading-anchor" href="#Supergrassi.jl">Supergrassi.jl</a><a id="Supergrassi.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Supergrassi.jl" title="Permalink"></a></h1><p>This is the reference documentation of <a href="https://github.com/UCL/Supergrassi.jl"><code>Supergrassi.jl</code></a>.</p><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#Supergrassi.FilePath"><code>Supergrassi.FilePath</code></a></li><li><a href="#Supergrassi.check_file_availability-Tuple{Dict}"><code>Supergrassi.check_file_availability</code></a></li><li><a href="#Supergrassi.classify_dict-Tuple{Dict{Any, Any}}"><code>Supergrassi.classify_dict</code></a></li><li><a href="#Supergrassi.clean_1d_values-Tuple{Vector{&lt;:Number}, Vector{&lt;:Number}, Dict{String, String}, Dict{String, String}, Vector, Vector, Float64, Bool}"><code>Supergrassi.clean_1d_values</code></a></li><li><a href="#Supergrassi.clean_2d_values-Tuple{Supergrassi.Data, Float64}"><code>Supergrassi.clean_2d_values</code></a></li><li><a href="#Supergrassi.clean_data-Tuple{Supergrassi.Data, Dict{String, Any}}"><code>Supergrassi.clean_data</code></a></li><li><a href="#Supergrassi.clean_exports-Tuple{Supergrassi.InputOutput, Supergrassi.InputOutput, Float64, Vector, Bool, Dict{String, String}, Dict{String, String}}"><code>Supergrassi.clean_exports</code></a></li><li><a href="#Supergrassi.clean_household-Tuple{Supergrassi.Data, Int64, Dict{String, String}, Dict{String, String}, Vector, Vector, Vector, Bool}"><code>Supergrassi.clean_household</code></a></li><li><a href="#Supergrassi.convert_to_ratio!-Tuple{Supergrassi.InputMatrices}"><code>Supergrassi.convert_to_ratio!</code></a></li><li><a href="#Supergrassi.convert_to_ratio!-Tuple{Supergrassi.RegionalData}"><code>Supergrassi.convert_to_ratio!</code></a></li><li><a href="#Supergrassi.convert_to_ratio!-Tuple{DataFrames.DataFrame}"><code>Supergrassi.convert_to_ratio!</code></a></li><li><a href="#Supergrassi.correct_exports_with_services!-Tuple{DataFrames.DataFrame, DataFrames.DataFrame, DataFrames.DataFrame}"><code>Supergrassi.correct_exports_with_services!</code></a></li><li><a href="#Supergrassi.create_filepath-Tuple{String}"><code>Supergrassi.create_filepath</code></a></li><li><a href="#Supergrassi.create_filepath_from_template-Tuple{String, Dict{String, Any}}"><code>Supergrassi.create_filepath_from_template</code></a></li><li><a href="#Supergrassi.read_data-Tuple{String, String, String}"><code>Supergrassi.read_data</code></a></li><li><a href="#Supergrassi.read_data-Tuple{String}"><code>Supergrassi.read_data</code></a></li><li><a href="#Supergrassi.rescale_data!-Tuple{CleanData}"><code>Supergrassi.rescale_data!</code></a></li><li><a href="#Supergrassi.round_shares!"><code>Supergrassi.round_shares!</code></a></li><li><a href="#Supergrassi.round_shares!"><code>Supergrassi.round_shares!</code></a></li><li><a href="#Supergrassi.round_shares!"><code>Supergrassi.round_shares!</code></a></li></ul><h2 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.FilePath" href="#Supergrassi.FilePath"><code>Supergrassi.FilePath</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FilePath(path::String)</code></pre><p>A structure for file paths.</p><p><strong>Fields</strong></p><ul><li><code>path::String</code>: The full path.</li><li><code>directory::String</code>: The directory.</li><li><code>file::String</code>: The file name.</li><li><code>extension::String</code>: The file extension.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/1ee7cd2dc6d6d47cb7c1d66801940c15ae73bca2/src/FilePathValidator.jl#L1-L11">source</a></section></article><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.check_file_availability-Tuple{Dict}" href="#Supergrassi.check_file_availability-Tuple{Dict}"><code>Supergrassi.check_file_availability</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">check_file_availability(settings::Dict)</code></pre><p>Verifies the availability of data files.</p><p><strong>Arguments</strong></p><ul><li><code>settings::Dict{&lt;:Any, &lt;:Any}</code>: The settings dictionary.</li></ul><p><strong>Returns</strong></p><ul><li><code>Dict{String, FilePath}</code>: A dictionary of file paths.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">settings = Dict(
    &quot;files&quot; =&gt; Dict(
        &quot;input_dir&quot; =&gt; &quot;data&quot;,
        &quot;input_derived_dir&quot; =&gt; &quot;derived&quot;,
        &quot;inputs&quot; =&gt; Dict(
            &quot;base&quot; =&gt; Dict(
                &quot;data&quot; =&gt; &quot;data.csv&quot;
            ),
            &quot;derived&quot; =&gt; Dict(
                &quot;scenario_independent&quot; =&gt; Dict(
                    &quot;data&quot; =&gt; &quot;data.csv&quot;
                ),
                &quot;scenario_dependent&quot; =&gt; Dict(
                    &quot;data&quot; =&gt; &quot;data.csv&quot;
                )
            )
        )
    ),
    &quot;version&quot; =&gt; &quot;v1&quot;,
    &quot;files&quot; =&gt; Dict(
        &quot;scenario&quot; =&gt; &quot;1&quot;
    )
)

filepaths = check_file_availability(settings)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/1ee7cd2dc6d6d47cb7c1d66801940c15ae73bca2/src/FilePathValidator.jl#L93-L132">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.classify_dict-Tuple{Dict{Any, Any}}" href="#Supergrassi.classify_dict-Tuple{Dict{Any, Any}}"><code>Supergrassi.classify_dict</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">classify_dict(dict::Dict)</code></pre><p>Classifies a dictionary type based on the types of its keys and values. Used to create a typed dictionary from an untyped dictionary extracted from a YAML file.</p><p><strong>Arguments</strong></p><ul><li><code>dict::Dict{Any, Any}</code>: The dictionary to classify.</li></ul><p><strong>Returns</strong></p><ul><li><code>Dict{key_type, value_type}</code>: The classified dictionary.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">untyped_dict = YAML.load_file(&quot;settings.yaml&quot;)
typed_dict = classify_dict(dict)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/1ee7cd2dc6d6d47cb7c1d66801940c15ae73bca2/src/ReadSettings.jl#L13-L30">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.clean_1d_values-Tuple{Vector{&lt;:Number}, Vector{&lt;:Number}, Dict{String, String}, Dict{String, String}, Vector, Vector, Float64, Bool}" href="#Supergrassi.clean_1d_values-Tuple{Vector{&lt;:Number}, Vector{&lt;:Number}, Dict{String, String}, Dict{String, String}, Vector, Vector, Float64, Bool}"><code>Supergrassi.clean_1d_values</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Function to process the values that are split between uk, eu, world and stored in vectors.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/1ee7cd2dc6d6d47cb7c1d66801940c15ae73bca2/src/Cleanup.jl#L339-L341">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.clean_2d_values-Tuple{Supergrassi.Data, Float64}" href="#Supergrassi.clean_2d_values-Tuple{Supergrassi.Data, Float64}"><code>Supergrassi.clean_2d_values</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Function to process the mValues stored in input<em>output</em>matrix:es in the data struct</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/1ee7cd2dc6d6d47cb7c1d66801940c15ae73bca2/src/Cleanup.jl#L316-L318">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.clean_data-Tuple{Supergrassi.Data, Dict{String, Any}}" href="#Supergrassi.clean_data-Tuple{Supergrassi.Data, Dict{String, Any}}"><code>Supergrassi.clean_data</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">clean_data(data::Data, settings::Dict{String, Any})</code></pre><p>Main function for data cleaning. Should take in a Data struct and return a CleanData struct.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/1ee7cd2dc6d6d47cb7c1d66801940c15ae73bca2/src/Cleanup.jl#L674-L678">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.clean_exports-Tuple{Supergrassi.InputOutput, Supergrassi.InputOutput, Float64, Vector, Bool, Dict{String, String}, Dict{String, String}}" href="#Supergrassi.clean_exports-Tuple{Supergrassi.InputOutput, Supergrassi.InputOutput, Float64, Vector, Bool, Dict{String, String}, Dict{String, String}}"><code>Supergrassi.clean_exports</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Exports need a special treatment because they are a sum of export and services_export data frames. Service export is scaled by the sum of eu and world exports. Further refactoring definitely possible here.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/1ee7cd2dc6d6d47cb7c1d66801940c15ae73bca2/src/Cleanup.jl#L371-L374">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.clean_household-Tuple{Supergrassi.Data, Int64, Dict{String, String}, Dict{String, String}, Vector, Vector, Vector, Bool}" href="#Supergrassi.clean_household-Tuple{Supergrassi.Data, Int64, Dict{String, String}, Dict{String, String}, Vector, Vector, Vector, Bool}"><code>Supergrassi.clean_household</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Function to process the household incomes and their derived data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/1ee7cd2dc6d6d47cb7c1d66801940c15ae73bca2/src/Cleanup.jl#L405-L407">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.convert_to_ratio!-Tuple{DataFrames.DataFrame}" href="#Supergrassi.convert_to_ratio!-Tuple{DataFrames.DataFrame}"><code>Supergrassi.convert_to_ratio!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">convert_to_ratio!(df::DataFrame)</code></pre><p>Convert regional vector data into fractions of the aggregate value. Then renormalise the aggregate value by its sum. Nans are replaced with 0&#39;s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/1ee7cd2dc6d6d47cb7c1d66801940c15ae73bca2/src/Cleanup.jl#L541-L547">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.convert_to_ratio!-Tuple{Supergrassi.InputMatrices}" href="#Supergrassi.convert_to_ratio!-Tuple{Supergrassi.InputMatrices}"><code>Supergrassi.convert_to_ratio!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">convert_to_ratio!(data::InputMatrices)</code></pre><p>Convert regional matrix data to fractions of the aggregate value Nans are replaced with 0&#39;s</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/1ee7cd2dc6d6d47cb7c1d66801940c15ae73bca2/src/Cleanup.jl#L559-L564">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.convert_to_ratio!-Tuple{Supergrassi.RegionalData}" href="#Supergrassi.convert_to_ratio!-Tuple{Supergrassi.RegionalData}"><code>Supergrassi.convert_to_ratio!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">convert_to_ratio!(data::RegionalData)</code></pre><p>Convert regional data into ratios of region / sum(regions)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/1ee7cd2dc6d6d47cb7c1d66801940c15ae73bca2/src/Cleanup.jl#L502-L506">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.correct_exports_with_services!-Tuple{DataFrames.DataFrame, DataFrames.DataFrame, DataFrames.DataFrame}" href="#Supergrassi.correct_exports_with_services!-Tuple{DataFrames.DataFrame, DataFrames.DataFrame, DataFrames.DataFrame}"><code>Supergrassi.correct_exports_with_services!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Helper function for exports</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/1ee7cd2dc6d6d47cb7c1d66801940c15ae73bca2/src/Cleanup.jl#L358-L360">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.create_filepath-Tuple{String}" href="#Supergrassi.create_filepath-Tuple{String}"><code>Supergrassi.create_filepath</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_filepath(basepath::String)</code></pre><p>Creates a file path.</p><p><strong>Arguments</strong></p><ul><li><code>file_path::FilePath</code>: The file path object.</li></ul><p><strong>Returns</strong></p><ul><li><code>Bool</code>: Whether the file path is valid.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">file_path = FilePath(&quot;data.csv&quot;)
println(is_valid) # true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/1ee7cd2dc6d6d47cb7c1d66801940c15ae73bca2/src/FilePathValidator.jl#L70-L86">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.create_filepath_from_template-Tuple{String, Dict{String, Any}}" href="#Supergrassi.create_filepath_from_template-Tuple{String, Dict{String, Any}}"><code>Supergrassi.create_filepath_from_template</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_filepath_from_template(basepath::String, substitution_dict::Dict{String, Any})</code></pre><p>Creates a file path from a template string and a dictionary of substitutions.</p><p><strong>Arguments</strong></p><ul><li><code>basepath::String</code>: The template string.</li><li><code>substitution_dict::Dict{String, Any}</code>: The dictionary of substitutions.</li></ul><p><strong>Returns</strong></p><ul><li><code>FilePath</code>: The file path object.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">substitutions = Dict(
    &quot;name&quot; =&gt; &quot;data&quot;,
    &quot;format&quot; =&gt; &quot;csv&quot;,
    &quot;directory&quot; =&gt; &quot;dir&quot;,
    &quot;suffix&quot; =&gt; 1,
)

template = &quot;{directory}/{name}{suffix}.{format}&quot;
filepath = create_filepath_from_template(template, substitutions)
println(filepath.path) # &quot;dir/data1.csv&quot;
println(filepath.directory) # &quot;dir&quot;
println(filepath.file) # &quot;data1.csv&quot;
println(filepath.extension) # &quot;.csv&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/1ee7cd2dc6d6d47cb7c1d66801940c15ae73bca2/src/FilePathValidator.jl#L30-L58">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.read_data-Tuple{String, String, String}" href="#Supergrassi.read_data-Tuple{String, String, String}"><code>Supergrassi.read_data</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">read_data(file::String, sheet::String, range::String)</code></pre><p>Reads a data file and returns a DataFrame.</p><p><strong>Arguments</strong></p><ul><li><code>file::String</code>: The path to the file.</li><li><code>sheet::String</code>: The name of the sheet.</li><li><code>range::String</code>: The range of cells to read.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">df = read_data(&quot;data.xlsx&quot;, &quot;Sheet1&quot;, &quot;A1:Z1000&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/1ee7cd2dc6d6d47cb7c1d66801940c15ae73bca2/src/FileReader.jl#L62-L76">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.read_data-Tuple{String}" href="#Supergrassi.read_data-Tuple{String}"><code>Supergrassi.read_data</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">read_data(file::String)</code></pre><p>Reads a data file and returns a DataFrame.</p><p><strong>Arguments</strong></p><ul><li><code>file::String</code>: The path to the file.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">df = read_data(&quot;data.csv&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/1ee7cd2dc6d6d47cb7c1d66801940c15ae73bca2/src/FileReader.jl#L35-L47">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.rescale_data!-Tuple{CleanData}" href="#Supergrassi.rescale_data!-Tuple{CleanData}"><code>Supergrassi.rescale_data!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">rescale_data!(data::CleanData)</code></pre><p>Re-scale the data that does not get convereted into a ratio explicitly, following <a href="https://github.com/UCL/Supergrassi/blob/main/code/matlab/macro_v2/DataCleaning/RescaleData.m">https://github.com/UCL/Supergrassi/blob/main/code/matlab/macro_v2/DataCleaning/RescaleData.m</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/1ee7cd2dc6d6d47cb7c1d66801940c15ae73bca2/src/Cleanup.jl#L456-L461">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.round_shares!" href="#Supergrassi.round_shares!"><code>Supergrassi.round_shares!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">round_shares!(data::RegionalData, threshold::Float64 = 1e-4)</code></pre><p>Round values below threshold in regional data to 0, then rescale so that regions sum to 1.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/1ee7cd2dc6d6d47cb7c1d66801940c15ae73bca2/src/Cleanup.jl#L580-L584">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.round_shares!" href="#Supergrassi.round_shares!"><code>Supergrassi.round_shares!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">round_shares!(df::DataFrame, threshold = 1e-4)</code></pre><p>Round shares in regional vector data</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/1ee7cd2dc6d6d47cb7c1d66801940c15ae73bca2/src/Cleanup.jl#L603-L607">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supergrassi.round_shares!" href="#Supergrassi.round_shares!"><code>Supergrassi.round_shares!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">round_shares!(data::InputMatrices, threshold = 1e-4)</code></pre><p>Round shares in regional matrix data</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UCL/Supergrassi.jl/blob/1ee7cd2dc6d6d47cb7c1d66801940c15ae73bca2/src/Cleanup.jl#L625-L629">source</a></section></article><h2 id="Constants"><a class="docs-heading-anchor" href="#Constants">Constants</a><a id="Constants-1"></a><a class="docs-heading-anchor-permalink" href="#Constants" title="Permalink"></a></h2></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.11.4 on <span class="colophon-date" title="Monday 2 June 2025 09:55">Monday 2 June 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
